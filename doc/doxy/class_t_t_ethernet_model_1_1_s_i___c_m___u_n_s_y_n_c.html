<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>TTEthernet Model for INET Framework: TTEthernetModel::SI_CM_UNSYNC Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">TTEthernet Model for INET Framework
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_t_t_ethernet_model_1_1_s_i___c_m___u_n_s_y_n_c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_t_t_ethernet_model_1_1_s_i___c_m___u_n_s_y_n_c-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">TTEthernetModel::SI_CM_UNSYNC Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="_s_i_c_m_states_8h_source.html">SICMStates.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for TTEthernetModel::SI_CM_UNSYNC:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_t_t_ethernet_model_1_1_s_i___c_m___u_n_s_y_n_c.png" usemap="#TTEthernetModel::SI_CM_UNSYNC_map" alt=""/>
  <map id="TTEthernetModel::SI_CM_UNSYNC_map" name="TTEthernetModel::SI_CM_UNSYNC_map">
<area href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html" alt="TTEthernetModel::SICMState" shape="rect" coords="0,0,211,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a6d3b9fdd2d8e49a39c6cbe931f4a8c9f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_i___c_m___u_n_s_y_n_c.html#a6d3b9fdd2d8e49a39c6cbe931f4a8c9f">SI_CM_UNSYNC</a> ()</td></tr>
<tr class="separator:a6d3b9fdd2d8e49a39c6cbe931f4a8c9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3168c5eb17ba7b347a7a12883e78ec24"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_i___c_m___u_n_s_y_n_c.html#a3168c5eb17ba7b347a7a12883e78ec24">handleMessage</a> (cMessage *message)</td></tr>
<tr class="separator:a3168c5eb17ba7b347a7a12883e78ec24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7add9f3b6ad3044545e40f7157f6e471"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_i___c_m___u_n_s_y_n_c.html#a7add9f3b6ad3044545e40f7157f6e471">compressionFunction</a> (cMessage *message, <a class="el" href="class_t_t_ethernet_model_1_1_s_i_c_m.html">SICM</a> *<a class="el" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>)</td></tr>
<tr class="separator:a7add9f3b6ad3044545e40f7157f6e471"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00ad78b5518ddb8df849c1719c71e454"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_i___c_m___u_n_s_y_n_c.html#a00ad78b5518ddb8df849c1719c71e454">compressionFunctionCA</a> (cMessage *message, <a class="el" href="class_t_t_ethernet_model_1_1_s_i_c_m.html">SICM</a> *<a class="el" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>)</td></tr>
<tr class="separator:a00ad78b5518ddb8df849c1719c71e454"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_t_t_ethernet_model_1_1_s_i_c_m_state')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html">TTEthernetModel::SICMState</a></td></tr>
<tr class="memitem:a8f7754347eeb6ddf884ed2efe4b21193 inherit pub_methods_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a8f7754347eeb6ddf884ed2efe4b21193">getValue</a> (unsigned int bitVector, int length)</td></tr>
<tr class="separator:a8f7754347eeb6ddf884ed2efe4b21193 inherit pub_methods_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61696f76b2324100f753c81d1142087b inherit pub_methods_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a61696f76b2324100f753c81d1142087b">getBitPosition</a> (unsigned int bitVector)</td></tr>
<tr class="separator:a61696f76b2324100f753c81d1142087b inherit pub_methods_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afccc5778d5c83972d2f97ed2da6114ca inherit pub_methods_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#afccc5778d5c83972d2f97ed2da6114ca">inSchedule</a> (unsigned int permanence_pit, unsigned int sc_receive_pit, unsigned int precission)</td></tr>
<tr class="separator:afccc5778d5c83972d2f97ed2da6114ca inherit pub_methods_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecf6d80260647c27c21da24f42e13c13 inherit pub_methods_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#aecf6d80260647c27c21da24f42e13c13">inSchedule2</a> (unsigned int permanence_pit, unsigned int sc_receive_pit, unsigned int acceptance_window)</td></tr>
<tr class="separator:aecf6d80260647c27c21da24f42e13c13 inherit pub_methods_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82348318432501edc630883241bfa3ae inherit pub_methods_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a82348318432501edc630883241bfa3ae">compress</a> (vector&lt; pair&lt; unsigned int, unsigned int &gt; &gt; *vct, int faulty_sms)</td></tr>
<tr class="separator:a82348318432501edc630883241bfa3ae inherit pub_methods_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ecff4894d30876be2c5a1fbfca8afeb inherit pub_methods_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a7ecff4894d30876be2c5a1fbfca8afeb">setBits</a> (vector&lt; pair&lt; unsigned int, unsigned int &gt; &gt; *vct)</td></tr>
<tr class="separator:a7ecff4894d30876be2c5a1fbfca8afeb inherit pub_methods_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td colspan="2" onclick="javascript:toggleInherit('pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state')"><img src="closed.png" alt="-"/>&#160;Public Attributes inherited from <a class="el" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html">TTEthernetModel::SICMState</a></td></tr>
<tr class="memitem:a2d241ac7422977cd460e999c26ddcb0a inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memItemLeft" align="right" valign="top">cOutVector *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a2d241ac7422977cd460e999c26ddcb0a">outVector</a></td></tr>
<tr class="separator:a2d241ac7422977cd460e999c26ddcb0a inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb5b492128ccfcc9d539369acdbc0a08 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_t_ethernet_model_1_1_s_i_c_m.html">SICM</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a></td></tr>
<tr class="separator:abb5b492128ccfcc9d539369acdbc0a08 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22e081430457e6b39228b780f3328fe2 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memItemLeft" align="right" valign="top">FILE *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a22e081430457e6b39228b780f3328fe2">fp</a></td></tr>
<tr class="separator:a22e081430457e6b39228b780f3328fe2 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12fc957c47c7159e2eb98487a22ff21f inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memItemLeft" align="right" valign="top">vector&lt; int &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a12fc957c47c7159e2eb98487a22ff21f">values</a></td></tr>
<tr class="separator:a12fc957c47c7159e2eb98487a22ff21f inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a636e4f32f8ac63724cc0f720e3ea6823 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a636e4f32f8ac63724cc0f720e3ea6823">counter</a></td></tr>
<tr class="separator:a636e4f32f8ac63724cc0f720e3ea6823 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a661f436d1ae3e09ff3baa30461dc2510 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a661f436d1ae3e09ff3baa30461dc2510">dummy</a></td></tr>
<tr class="separator:a661f436d1ae3e09ff3baa30461dc2510 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0df613f90688dc1a78444ac13550833 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ac0df613f90688dc1a78444ac13550833">data</a></td></tr>
<tr class="separator:ac0df613f90688dc1a78444ac13550833 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1843678f32ab664942e05394554dd34 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ac1843678f32ab664942e05394554dd34">local_timer</a></td></tr>
<tr class="separator:ac1843678f32ab664942e05394554dd34 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25ffd3a9f9c0e58997c2fe1b44484ba0 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a25ffd3a9f9c0e58997c2fe1b44484ba0">flood_receive</a></td></tr>
<tr class="separator:a25ffd3a9f9c0e58997c2fe1b44484ba0 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5c72fc5032b46e762c03dc981563e29 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ac5c72fc5032b46e762c03dc981563e29">closed_window</a></td></tr>
<tr class="separator:ac5c72fc5032b46e762c03dc981563e29 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeebee04e9a1d3efbe8647a0142b7a428 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#aeebee04e9a1d3efbe8647a0142b7a428">round_completed</a></td></tr>
<tr class="separator:aeebee04e9a1d3efbe8647a0142b7a428 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a495d52c675d6608327e98153646b177d inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a495d52c675d6608327e98153646b177d">local_clock</a></td></tr>
<tr class="separator:a495d52c675d6608327e98153646b177d inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a494bb5882782b7901d1a0669f93bd51d inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a494bb5882782b7901d1a0669f93bd51d">local_sync_membership</a></td></tr>
<tr class="separator:a494bb5882782b7901d1a0669f93bd51d inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a128cafc0ef67e4720fc52ef59814b24d inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a128cafc0ef67e4720fc52ef59814b24d">local_async_membership</a></td></tr>
<tr class="separator:a128cafc0ef67e4720fc52ef59814b24d inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a797dab473665ad86ebd06c1a4fea9922 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a797dab473665ad86ebd06c1a4fea9922">local_integration_cycle</a></td></tr>
<tr class="separator:a797dab473665ad86ebd06c1a4fea9922 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf79714cb661e2627a9605892ae2a53a inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#aaf79714cb661e2627a9605892ae2a53a">clock_corr</a></td></tr>
<tr class="separator:aaf79714cb661e2627a9605892ae2a53a inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa47c09ff35f8be8301e9521cea078619 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#aa47c09ff35f8be8301e9521cea078619">stable_cycle_counter</a></td></tr>
<tr class="separator:aa47c09ff35f8be8301e9521cea078619 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1476d915916d951acfa23744886ab522 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a1476d915916d951acfa23744886ab522">duration</a></td></tr>
<tr class="separator:a1476d915916d951acfa23744886ab522 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a322348e8045c3e8c824e94b09606f5a5 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a322348e8045c3e8c824e94b09606f5a5">max_transmision_delay</a></td></tr>
<tr class="separator:a322348e8045c3e8c824e94b09606f5a5 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab83df7f4d895dcccca1e8fa83091310a inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ab83df7f4d895dcccca1e8fa83091310a">local_async_membership_r</a></td></tr>
<tr class="separator:ab83df7f4d895dcccca1e8fa83091310a inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06fa8c5368f3bc741cc8d3cd52b2c050 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a06fa8c5368f3bc741cc8d3cd52b2c050">local_async_membership_f</a></td></tr>
<tr class="separator:a06fa8c5368f3bc741cc8d3cd52b2c050 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d4ee21c2c79192bd9c54d4ac80d2547 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a3d4ee21c2c79192bd9c54d4ac80d2547">ctid</a></td></tr>
<tr class="separator:a3d4ee21c2c79192bd9c54d4ac80d2547 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaff56c1d3261b9eda101fe818621912e inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_t_ethernet_model_1_1_scheduler_action_time_event.html">SchedulerActionTimeEvent</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#aaff56c1d3261b9eda101fe818621912e">event2</a></td></tr>
<tr class="separator:aaff56c1d3261b9eda101fe818621912e inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ccb46f3c16c98d6b01a3033252a29fa inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_t_ethernet_model_1_1_scheduler_action_time_event.html">SchedulerActionTimeEvent</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a1ccb46f3c16c98d6b01a3033252a29fa">event3</a></td></tr>
<tr class="separator:a1ccb46f3c16c98d6b01a3033252a29fa inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad25ef73f6639daf11e8be2d9c8b639c7 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_t_ethernet_model_1_1_scheduler_action_time_event.html">SchedulerActionTimeEvent</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ad25ef73f6639daf11e8be2d9c8b639c7">event4</a></td></tr>
<tr class="separator:ad25ef73f6639daf11e8be2d9c8b639c7 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3393c1f1ebd76f7db652b02d661843f5 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_t_ethernet_model_1_1_scheduler_action_time_event.html">SchedulerActionTimeEvent</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a3393c1f1ebd76f7db652b02d661843f5">event5</a></td></tr>
<tr class="separator:a3393c1f1ebd76f7db652b02d661843f5 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55fa62fc0a7d2b9a752a73880415eea8 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html">TTEScheduler</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a55fa62fc0a7d2b9a752a73880415eea8">tteScheduler</a></td></tr>
<tr class="separator:a55fa62fc0a7d2b9a752a73880415eea8 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bf7086c170466e2717e657fc4b38945 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_t_ethernet_model_1_1_scheduler_timer_event.html">SchedulerTimerEvent</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a4bf7086c170466e2717e657fc4b38945">event</a></td></tr>
<tr class="separator:a4bf7086c170466e2717e657fc4b38945 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd434816cb46165a346d9524d6c1937d inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memItemLeft" align="right" valign="top">multimap&lt; unsigned int, <br class="typebreak"/>
<a class="el" href="class_t_t_ethernet_model_1_1_p_c_frame.html">PCFrame</a> * &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abd434816cb46165a346d9524d6c1937d">caCompressedFrames</a></td></tr>
<tr class="separator:abd434816cb46165a346d9524d6c1937d inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae69cb1c6847a82534bd23344674160bd inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memItemLeft" align="right" valign="top">deque&lt; pair&lt; unsigned int, <br class="typebreak"/>
<a class="el" href="class_t_t_ethernet_model_1_1_p_c_frame.html">PCFrame</a> * &gt; &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ae69cb1c6847a82534bd23344674160bd">compressed_frames</a></td></tr>
<tr class="separator:ae69cb1c6847a82534bd23344674160bd inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad39c413159fd6930b36470137771d841 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memItemLeft" align="right" valign="top">map&lt; unsigned int, vector<br class="typebreak"/>
&lt; pair&lt; unsigned int, unsigned <br class="typebreak"/>
int &gt; &gt; * &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ad39c413159fd6930b36470137771d841">compression_stack</a></td></tr>
<tr class="separator:ad39c413159fd6930b36470137771d841 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affeb14700ee200ed2b6b8d08d29615a2 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memItemLeft" align="right" valign="top">map&lt; unsigned int, vector<br class="typebreak"/>
&lt; pair&lt; unsigned int, unsigned <br class="typebreak"/>
int &gt; &gt; * &gt;::iterator&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#affeb14700ee200ed2b6b8d08d29615a2">compression_stack_it</a></td></tr>
<tr class="separator:affeb14700ee200ed2b6b8d08d29615a2 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2c59bf5641a72a14c1279e097106334 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memItemLeft" align="right" valign="top">map&lt; unsigned int, vector<br class="typebreak"/>
&lt; pair&lt; unsigned int, unsigned <br class="typebreak"/>
int &gt; &gt; * &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ac2c59bf5641a72a14c1279e097106334">ca_compression_stack</a></td></tr>
<tr class="separator:ac2c59bf5641a72a14c1279e097106334 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a265128559b38aabd7b2cb644d044319b inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memItemLeft" align="right" valign="top">map&lt; unsigned int, vector<br class="typebreak"/>
&lt; pair&lt; unsigned int, unsigned <br class="typebreak"/>
int &gt; &gt; * &gt;::iterator&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a265128559b38aabd7b2cb644d044319b">ca_compression_stack_it</a></td></tr>
<tr class="separator:a265128559b38aabd7b2cb644d044319b inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87396c51f7f5607990cc4af7c15c48fa inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memItemLeft" align="right" valign="top">deque&lt; <a class="el" href="class_t_t_ethernet_model_1_1_compressed_p_i_t.html">CompressedPIT</a> * &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a87396c51f7f5607990cc4af7c15c48fa">delay_container</a></td></tr>
<tr class="separator:a87396c51f7f5607990cc4af7c15c48fa inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad5f51bb236da36fa60c57ce95b5a11a inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memItemLeft" align="right" valign="top">deque&lt; <a class="el" href="class_t_t_ethernet_model_1_1_dispatch_delay.html">DispatchDelay</a> * &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#aad5f51bb236da36fa60c57ce95b5a11a">dispatch_delay_container</a></td></tr>
<tr class="separator:aad5f51bb236da36fa60c57ce95b5a11a inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8fa37fe71191a3986acaf7f98cc5fbc inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memItemLeft" align="right" valign="top">deque&lt; pair&lt; unsigned int, <br class="typebreak"/>
unsigned int &gt; &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ae8fa37fe71191a3986acaf7f98cc5fbc">clock_stack</a></td></tr>
<tr class="separator:ae8fa37fe71191a3986acaf7f98cc5fbc inherit pub_attribs_class_t_t_ethernet_model_1_1_s_i_c_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="_s_i_c_m_states_8h_source.html#l00083">83</a> of file <a class="el" href="_s_i_c_m_states_8h_source.html">SICMStates.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a6d3b9fdd2d8e49a39c6cbe931f4a8c9f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TTEthernetModel::SI_CM_UNSYNC::SI_CM_UNSYNC </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_s_i_c_m_states_8cc_source.html#l01111">1111</a> of file <a class="el" href="_s_i_c_m_states_8cc_source.html">SICMStates.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;                           {</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    <span class="comment">//Enter</span></div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;getDisplayString().setTagArg(<span class="stringliteral">&quot;i&quot;</span>, 1, <span class="stringliteral">&quot;black&quot;</span>);</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;bubble(<span class="stringliteral">&quot;CM_UNSYNC&quot;</span>);</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a7add9f3b6ad3044545e40f7157f6e471"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TTEthernetModel::SI_CM_UNSYNC::compressionFunction </td>
          <td>(</td>
          <td class="paramtype">cMessage *&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_t_t_ethernet_model_1_1_s_i_c_m.html">SICM</a> *&#160;</td>
          <td class="paramname"><em>sicm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a7d05806b784b773bcb0785a8595ea9b1">TTEthernetModel::SICMState</a>.</p>

<p>Definition at line <a class="el" href="_s_i_c_m_states_8cc_source.html#l04943">4943</a> of file <a class="el" href="_s_i_c_m_states_8cc_source.html">SICMStates.cc</a>.</p>

<p>Referenced by <a class="el" href="_s_i_c_m_states_8cc_source.html#l01118">handleMessage()</a>.</p>
<div class="fragment"><div class="line"><a name="l04943"></a><span class="lineno"> 4943</span>&#160;                                                                    {</div>
<div class="line"><a name="l04944"></a><span class="lineno"> 4944</span>&#160;</div>
<div class="line"><a name="l04945"></a><span class="lineno"> 4945</span>&#160;    <span class="keywordflow">if</span> (message-&gt;arrivedOn(<span class="stringliteral">&quot;RCin&quot;</span>)) {</div>
<div class="line"><a name="l04946"></a><span class="lineno"> 4946</span>&#160;</div>
<div class="line"><a name="l04947"></a><span class="lineno"> 4947</span>&#160;        PCFrame *pf = <span class="keyword">dynamic_cast&lt;</span>PCFrame *<span class="keyword">&gt;</span>(message);</div>
<div class="line"><a name="l04948"></a><span class="lineno"> 4948</span>&#160;</div>
<div class="line"><a name="l04949"></a><span class="lineno"> 4949</span>&#160;        <span class="comment">//calculate permanence pit</span></div>
<div class="line"><a name="l04950"></a><span class="lineno"> 4950</span>&#160;        <span class="keywordtype">int</span> permanence_delay = <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a322348e8045c3e8c824e94b09606f5a5">max_transmision_delay</a></div>
<div class="line"><a name="l04951"></a><span class="lineno"> 4951</span>&#160;                - (<a class="code" href="_helper_functions_8cc.html#ab7aebf5462b19bd64206b5ab5ebb3392" title="Converts value in the transparent clock unit that is ns*0x10000 to ticks.">transparentClockToTicks</a>(pf-&gt;getTransparent_clock(),</div>
<div class="line"><a name="l04952"></a><span class="lineno"> 4952</span>&#160;                        <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a55fa62fc0a7d2b9a752a73880415eea8">tteScheduler</a>-&gt;par(<span class="stringliteral">&quot;tick&quot;</span>).doubleValue())</div>
<div class="line"><a name="l04953"></a><span class="lineno"> 4953</span>&#160;                        + (<a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a55fa62fc0a7d2b9a752a73880415eea8">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#ac0ad022871d9c70f81625755d7cdb77e" title="Returns the absolute number of ticks.">getTotalTicks</a>()</div>
<div class="line"><a name="l04954"></a><span class="lineno"> 4954</span>&#160;                                - pf-&gt;par(<span class="stringliteral">&quot;received_total&quot;</span>).longValue()));</div>
<div class="line"><a name="l04955"></a><span class="lineno"> 4955</span>&#160;</div>
<div class="line"><a name="l04956"></a><span class="lineno"> 4956</span>&#160;        <span class="comment">//IN FRAME ?</span></div>
<div class="line"><a name="l04957"></a><span class="lineno"> 4957</span>&#160;        <span class="keywordflow">if</span> (pf-&gt;getType() == <a class="code" href="namespace_t_t_ethernet_model.html#a1ee6d33b2f327407c3f27ead021da60eab602bf5217b511903f7288f628b0c77d">IN_FRAME</a>) {</div>
<div class="line"><a name="l04958"></a><span class="lineno"> 4958</span>&#160;</div>
<div class="line"><a name="l04959"></a><span class="lineno"> 4959</span>&#160;            FrameEvent *f_event = <span class="keyword">new</span> FrameEvent(<span class="stringliteral">&quot;IN_FRAME&quot;</span>, <a class="code" href="namespace_t_t_ethernet_model.html#a7d0551d60b68ae7bedfd5d3d30f8b499a6cb1ab49053a3b9d013a1fcf4896ac5c">TIMER_EVENT</a>);</div>
<div class="line"><a name="l04960"></a><span class="lineno"> 4960</span>&#160;</div>
<div class="line"><a name="l04961"></a><span class="lineno"> 4961</span>&#160;            f_event-&gt;setMember(pf-&gt;getMembership_new());</div>
<div class="line"><a name="l04962"></a><span class="lineno"> 4962</span>&#160;            f_event-&gt;setPcfType(pf-&gt;getType());</div>
<div class="line"><a name="l04963"></a><span class="lineno"> 4963</span>&#160;</div>
<div class="line"><a name="l04964"></a><span class="lineno"> 4964</span>&#160;            f_event-&gt;setIntegrationCycle(pf-&gt;getIntegration_cycle());</div>
<div class="line"><a name="l04965"></a><span class="lineno"> 4965</span>&#160;</div>
<div class="line"><a name="l04966"></a><span class="lineno"> 4966</span>&#160;            f_event-&gt;setTimer(permanence_delay);</div>
<div class="line"><a name="l04967"></a><span class="lineno"> 4967</span>&#160;            f_event-&gt;setDestinationGate(<a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;gate(<span class="stringliteral">&quot;schedulerIn&quot;</span>));</div>
<div class="line"><a name="l04968"></a><span class="lineno"> 4968</span>&#160;            f_event-&gt;setSchedulingPriority(2);</div>
<div class="line"><a name="l04969"></a><span class="lineno"> 4969</span>&#160;</div>
<div class="line"><a name="l04970"></a><span class="lineno"> 4970</span>&#160;            <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a55fa62fc0a7d2b9a752a73880415eea8">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#afc4a5062aeb6488f879e99df6cb35865" title="Register a new event in the scheduler.">registerEvent</a>(f_event);</div>
<div class="line"><a name="l04971"></a><span class="lineno"> 4971</span>&#160;            <span class="keyword">delete</span> pf;</div>
<div class="line"><a name="l04972"></a><span class="lineno"> 4972</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04973"></a><span class="lineno"> 4973</span>&#160;</div>
<div class="line"><a name="l04974"></a><span class="lineno"> 4974</span>&#160;        } <span class="comment">//gate RCin (PCF FRAME)</span></div>
<div class="line"><a name="l04975"></a><span class="lineno"> 4975</span>&#160;</div>
<div class="line"><a name="l04976"></a><span class="lineno"> 4976</span>&#160;    }</div>
<div class="line"><a name="l04977"></a><span class="lineno"> 4977</span>&#160;</div>
<div class="line"><a name="l04978"></a><span class="lineno"> 4978</span>&#160;    <span class="keywordflow">if</span> (message-&gt;arrivedOn(<span class="stringliteral">&quot;schedulerIn&quot;</span>)) {</div>
<div class="line"><a name="l04979"></a><span class="lineno"> 4979</span>&#160;</div>
<div class="line"><a name="l04980"></a><span class="lineno"> 4980</span>&#160;        <span class="keywordflow">if</span> (<span class="keywordtype">string</span>(message-&gt;getName()).compare(<span class="stringliteral">&quot;IN_FRAME&quot;</span>) == 0) {</div>
<div class="line"><a name="l04981"></a><span class="lineno"> 4981</span>&#160;</div>
<div class="line"><a name="l04982"></a><span class="lineno"> 4982</span>&#160;            FrameEvent *evt = <span class="keyword">dynamic_cast&lt;</span>FrameEvent *<span class="keyword">&gt;</span>(message);</div>
<div class="line"><a name="l04983"></a><span class="lineno"> 4983</span>&#160;</div>
<div class="line"><a name="l04984"></a><span class="lineno"> 4984</span>&#160;            <span class="comment">//PCFrame *pcf = in_container-&gt;find(evt-&gt;getMember())-&gt;second;</span></div>
<div class="line"><a name="l04985"></a><span class="lineno"> 4985</span>&#160;</div>
<div class="line"><a name="l04986"></a><span class="lineno"> 4986</span>&#160;            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> int_cycle = evt-&gt;getIntegrationCycle();</div>
<div class="line"><a name="l04987"></a><span class="lineno"> 4987</span>&#160;</div>
<div class="line"><a name="l04988"></a><span class="lineno"> 4988</span>&#160;            uint64_t current_ppt = <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a55fa62fc0a7d2b9a752a73880415eea8">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#a6831234789320df881e83389f49cd773" title="Returns the current number of ticks.">getTicks</a>();</div>
<div class="line"><a name="l04989"></a><span class="lineno"> 4989</span>&#160;</div>
<div class="line"><a name="l04990"></a><span class="lineno"> 4990</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ad39c413159fd6930b36470137771d841">compression_stack</a>-&gt;find(int_cycle)</div>
<div class="line"><a name="l04991"></a><span class="lineno"> 4991</span>&#160;                    != <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ad39c413159fd6930b36470137771d841">compression_stack</a>-&gt;end()) {</div>
<div class="line"><a name="l04992"></a><span class="lineno"> 4992</span>&#160;</div>
<div class="line"><a name="l04993"></a><span class="lineno"> 4993</span>&#160;                <span class="comment">//there is a compression function with matching integration cycle collecting PCF&#39;s</span></div>
<div class="line"><a name="l04994"></a><span class="lineno"> 4994</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ad39c413159fd6930b36470137771d841">compression_stack</a>-&gt;find(int_cycle)-&gt;second-&gt;push_back(</div>
<div class="line"><a name="l04995"></a><span class="lineno"> 4995</span>&#160;                        pair&lt;unsigned int, unsigned int&gt;(evt-&gt;getMember(),</div>
<div class="line"><a name="l04996"></a><span class="lineno"> 4996</span>&#160;                                current_ppt));</div>
<div class="line"><a name="l04997"></a><span class="lineno"> 4997</span>&#160;                ev</div>
<div class="line"><a name="l04998"></a><span class="lineno"> 4998</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;SI_CM_UNSYNC: There is a compression Function with matching integration cycle collecting PCF&#39;s &quot;</span></div>
<div class="line"><a name="l04999"></a><span class="lineno"> 4999</span>&#160;                        &lt;&lt; int_cycle &lt;&lt; endl;</div>
<div class="line"><a name="l05000"></a><span class="lineno"> 5000</span>&#160;</div>
<div class="line"><a name="l05001"></a><span class="lineno"> 5001</span>&#160;                <span class="keyword">delete</span> evt;</div>
<div class="line"><a name="l05002"></a><span class="lineno"> 5002</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05003"></a><span class="lineno"> 5003</span>&#160;</div>
<div class="line"><a name="l05004"></a><span class="lineno"> 5004</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05005"></a><span class="lineno"> 5005</span>&#160;                <span class="comment">//no compression function with matching integration cycle collecting PCF&#39;s</span></div>
<div class="line"><a name="l05006"></a><span class="lineno"> 5006</span>&#160;                <span class="comment">//start collecting phase</span></div>
<div class="line"><a name="l05007"></a><span class="lineno"> 5007</span>&#160;                vector&lt;pair&lt;unsigned int, unsigned int&gt; &gt; *PPT = <span class="keyword">new</span> vector&lt;</div>
<div class="line"><a name="l05008"></a><span class="lineno"> 5008</span>&#160;                        pair&lt;unsigned int, unsigned int&gt; &gt;();</div>
<div class="line"><a name="l05009"></a><span class="lineno"> 5009</span>&#160;</div>
<div class="line"><a name="l05010"></a><span class="lineno"> 5010</span>&#160;                PPT-&gt;push_back(</div>
<div class="line"><a name="l05011"></a><span class="lineno"> 5011</span>&#160;                        pair&lt;unsigned int, unsigned int&gt;(evt-&gt;getMember(),</div>
<div class="line"><a name="l05012"></a><span class="lineno"> 5012</span>&#160;                                current_ppt));</div>
<div class="line"><a name="l05013"></a><span class="lineno"> 5013</span>&#160;</div>
<div class="line"><a name="l05014"></a><span class="lineno"> 5014</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ad39c413159fd6930b36470137771d841">compression_stack</a>-&gt;insert(</div>
<div class="line"><a name="l05015"></a><span class="lineno"> 5015</span>&#160;                        pair&lt;<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>,</div>
<div class="line"><a name="l05016"></a><span class="lineno"> 5016</span>&#160;                                vector&lt;pair&lt;unsigned int, unsigned int&gt; &gt; *&gt;(</div>
<div class="line"><a name="l05017"></a><span class="lineno"> 5017</span>&#160;                                int_cycle, PPT));</div>
<div class="line"><a name="l05018"></a><span class="lineno"> 5018</span>&#160;</div>
<div class="line"><a name="l05019"></a><span class="lineno"> 5019</span>&#160;                OWCounter *ow = <span class="keyword">new</span> OWCounter(<span class="stringliteral">&quot;OW&quot;</span>, <a class="code" href="namespace_t_t_ethernet_model.html#a7d0551d60b68ae7bedfd5d3d30f8b499a6cb1ab49053a3b9d013a1fcf4896ac5c">TIMER_EVENT</a>);</div>
<div class="line"><a name="l05020"></a><span class="lineno"> 5020</span>&#160;</div>
<div class="line"><a name="l05021"></a><span class="lineno"> 5021</span>&#160;                ow-&gt;setDestinationGate(<a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;gate(<span class="stringliteral">&quot;schedulerIn&quot;</span>));</div>
<div class="line"><a name="l05022"></a><span class="lineno"> 5022</span>&#160;                ow-&gt;setSchedulingPriority(3);</div>
<div class="line"><a name="l05023"></a><span class="lineno"> 5023</span>&#160;                ow-&gt;setTimer(<a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;par(<span class="stringliteral">&quot;observation_window_size&quot;</span>).longValue());</div>
<div class="line"><a name="l05024"></a><span class="lineno"> 5024</span>&#160;</div>
<div class="line"><a name="l05025"></a><span class="lineno"> 5025</span>&#160;                ow-&gt;setNumberOfObservationWindow(1);</div>
<div class="line"><a name="l05026"></a><span class="lineno"> 5026</span>&#160;                ow-&gt;setLastNumberOfFrames(1);</div>
<div class="line"><a name="l05027"></a><span class="lineno"> 5027</span>&#160;                ow-&gt;setIntegrationCycle(int_cycle);</div>
<div class="line"><a name="l05028"></a><span class="lineno"> 5028</span>&#160;</div>
<div class="line"><a name="l05029"></a><span class="lineno"> 5029</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a55fa62fc0a7d2b9a752a73880415eea8">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#afc4a5062aeb6488f879e99df6cb35865" title="Register a new event in the scheduler.">registerEvent</a>(ow);</div>
<div class="line"><a name="l05030"></a><span class="lineno"> 5030</span>&#160;</div>
<div class="line"><a name="l05031"></a><span class="lineno"> 5031</span>&#160;                ev</div>
<div class="line"><a name="l05032"></a><span class="lineno"> 5032</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;SI_CM_UNSYNC: Compression Function:Collection Phase started&quot;</span></div>
<div class="line"><a name="l05033"></a><span class="lineno"> 5033</span>&#160;                        &lt;&lt; endl;</div>
<div class="line"><a name="l05034"></a><span class="lineno"> 5034</span>&#160;                <span class="keyword">delete</span> evt;</div>
<div class="line"><a name="l05035"></a><span class="lineno"> 5035</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05036"></a><span class="lineno"> 5036</span>&#160;            }</div>
<div class="line"><a name="l05037"></a><span class="lineno"> 5037</span>&#160;</div>
<div class="line"><a name="l05038"></a><span class="lineno"> 5038</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05039"></a><span class="lineno"> 5039</span>&#160;</div>
<div class="line"><a name="l05040"></a><span class="lineno"> 5040</span>&#160;        } <span class="comment">//handle FrameEvent</span></div>
<div class="line"><a name="l05041"></a><span class="lineno"> 5041</span>&#160;</div>
<div class="line"><a name="l05042"></a><span class="lineno"> 5042</span>&#160;        <span class="keywordflow">if</span> (<span class="keywordtype">string</span>(message-&gt;getName()).compare(<span class="stringliteral">&quot;OW&quot;</span>) == 0) {</div>
<div class="line"><a name="l05043"></a><span class="lineno"> 5043</span>&#160;</div>
<div class="line"><a name="l05044"></a><span class="lineno"> 5044</span>&#160;            OWCounter *owc = <span class="keyword">dynamic_cast&lt;</span>OWCounter *<span class="keyword">&gt;</span>(message);</div>
<div class="line"><a name="l05045"></a><span class="lineno"> 5045</span>&#160;</div>
<div class="line"><a name="l05046"></a><span class="lineno"> 5046</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ad39c413159fd6930b36470137771d841">compression_stack</a>-&gt;find(owc-&gt;getIntegrationCycle())</div>
<div class="line"><a name="l05047"></a><span class="lineno"> 5047</span>&#160;                    == <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ad39c413159fd6930b36470137771d841">compression_stack</a>-&gt;end()) {</div>
<div class="line"><a name="l05048"></a><span class="lineno"> 5048</span>&#160;</div>
<div class="line"><a name="l05049"></a><span class="lineno"> 5049</span>&#160;                ev</div>
<div class="line"><a name="l05050"></a><span class="lineno"> 5050</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;Compression Function:WAIT_4_IN: ERROR : OW: no such integration cycle: &quot;</span></div>
<div class="line"><a name="l05051"></a><span class="lineno"> 5051</span>&#160;                        &lt;&lt; owc-&gt;getIntegrationCycle() &lt;&lt; endl;</div>
<div class="line"><a name="l05052"></a><span class="lineno"> 5052</span>&#160;</div>
<div class="line"><a name="l05053"></a><span class="lineno"> 5053</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05054"></a><span class="lineno"> 5054</span>&#160;                <span class="comment">//compression function is active</span></div>
<div class="line"><a name="l05055"></a><span class="lineno"> 5055</span>&#160;                <span class="comment">//check for frames received during the last observation window</span></div>
<div class="line"><a name="l05056"></a><span class="lineno"> 5056</span>&#160;                <span class="keywordflow">if</span> (owc-&gt;getLastNumberOfFrames()</div>
<div class="line"><a name="l05057"></a><span class="lineno"> 5057</span>&#160;                        == <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ad39c413159fd6930b36470137771d841">compression_stack</a>-&gt;find(owc-&gt;getIntegrationCycle())-&gt;second-&gt;size()) {</div>
<div class="line"><a name="l05058"></a><span class="lineno"> 5058</span>&#160;                    <span class="comment">//no new PCF IN frames became permanent during the last observation window</span></div>
<div class="line"><a name="l05059"></a><span class="lineno"> 5059</span>&#160;                    <span class="comment">// stop collecting</span></div>
<div class="line"><a name="l05060"></a><span class="lineno"> 5060</span>&#160;                    <span class="comment">//check reaching max_observation_window</span></div>
<div class="line"><a name="l05061"></a><span class="lineno"> 5061</span>&#160;                    <span class="keywordflow">if</span> (owc-&gt;getNumberOfObservationWindow()</div>
<div class="line"><a name="l05062"></a><span class="lineno"> 5062</span>&#160;                            &lt; (<span class="keywordtype">unsigned</span> int)<a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;par(<span class="stringliteral">&quot;max_observation_window&quot;</span>).longValue()) {</div>
<div class="line"><a name="l05063"></a><span class="lineno"> 5063</span>&#160;</div>
<div class="line"><a name="l05064"></a><span class="lineno"> 5064</span>&#160;                        <span class="comment">//calculate the compression_funktion_delay and register the event for compressed pit</span></div>
<div class="line"><a name="l05065"></a><span class="lineno"> 5065</span>&#160;</div>
<div class="line"><a name="l05066"></a><span class="lineno"> 5066</span>&#160;                        <span class="keywordtype">int</span> restOW =</div>
<div class="line"><a name="l05067"></a><span class="lineno"> 5067</span>&#160;                                (<a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;par(<span class="stringliteral">&quot;max_observation_window&quot;</span>).longValue()</div>
<div class="line"><a name="l05068"></a><span class="lineno"> 5068</span>&#160;                                        - owc-&gt;getNumberOfObservationWindow())</div>
<div class="line"><a name="l05069"></a><span class="lineno"> 5069</span>&#160;                                        * <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;par(<span class="stringliteral">&quot;observation_window_size&quot;</span>).longValue();</div>
<div class="line"><a name="l05070"></a><span class="lineno"> 5070</span>&#160;</div>
<div class="line"><a name="l05071"></a><span class="lineno"> 5071</span>&#160;                        <span class="keywordtype">int</span> compression_correction =</div>
<div class="line"><a name="l05072"></a><span class="lineno"> 5072</span>&#160;                                <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a82348318432501edc630883241bfa3ae">compress</a>(</div>
<div class="line"><a name="l05073"></a><span class="lineno"> 5073</span>&#160;                                        <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ad39c413159fd6930b36470137771d841">compression_stack</a>-&gt;find(</div>
<div class="line"><a name="l05074"></a><span class="lineno"> 5074</span>&#160;                                                owc-&gt;getIntegrationCycle())-&gt;second,</div>
<div class="line"><a name="l05075"></a><span class="lineno"> 5075</span>&#160;                                        <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;par(</div>
<div class="line"><a name="l05076"></a><span class="lineno"> 5076</span>&#160;                                                <span class="stringliteral">&quot;faulty_synchronisatzation_masters&quot;</span>).longValue());</div>
<div class="line"><a name="l05077"></a><span class="lineno"> 5077</span>&#160;</div>
<div class="line"><a name="l05078"></a><span class="lineno"> 5078</span>&#160;                        <span class="keywordtype">int</span> compression_funktion_delay = restOW</div>
<div class="line"><a name="l05079"></a><span class="lineno"> 5079</span>&#160;                                + <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;par(<span class="stringliteral">&quot;calculation_overhead&quot;</span>).longValue()</div>
<div class="line"><a name="l05080"></a><span class="lineno"> 5080</span>&#160;                                + compression_correction;</div>
<div class="line"><a name="l05081"></a><span class="lineno"> 5081</span>&#160;</div>
<div class="line"><a name="l05082"></a><span class="lineno"> 5082</span>&#160;                        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> roundMember = <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a7ecff4894d30876be2c5a1fbfca8afeb">setBits</a>(</div>
<div class="line"><a name="l05083"></a><span class="lineno"> 5083</span>&#160;                                <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ad39c413159fd6930b36470137771d841">compression_stack</a>-&gt;find(</div>
<div class="line"><a name="l05084"></a><span class="lineno"> 5084</span>&#160;                                        owc-&gt;getIntegrationCycle())-&gt;second);</div>
<div class="line"><a name="l05085"></a><span class="lineno"> 5085</span>&#160;</div>
<div class="line"><a name="l05086"></a><span class="lineno"> 5086</span>&#160;                        CompressedPIT *cpit = <span class="keyword">new</span> CompressedPIT(<span class="stringliteral">&quot;CP&quot;</span>,</div>
<div class="line"><a name="l05087"></a><span class="lineno"> 5087</span>&#160;                                <a class="code" href="namespace_t_t_ethernet_model.html#a7d0551d60b68ae7bedfd5d3d30f8b499a6cb1ab49053a3b9d013a1fcf4896ac5c">TIMER_EVENT</a>);</div>
<div class="line"><a name="l05088"></a><span class="lineno"> 5088</span>&#160;                        cpit-&gt;setDestinationGate(<a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;gate(<span class="stringliteral">&quot;schedulerIn&quot;</span>));</div>
<div class="line"><a name="l05089"></a><span class="lineno"> 5089</span>&#160;                        cpit-&gt;setTimer(compression_funktion_delay);</div>
<div class="line"><a name="l05090"></a><span class="lineno"> 5090</span>&#160;                        cpit-&gt;setSchedulingPriority(3);</div>
<div class="line"><a name="l05091"></a><span class="lineno"> 5091</span>&#160;                        cpit-&gt;setMembership_new(roundMember);</div>
<div class="line"><a name="l05092"></a><span class="lineno"> 5092</span>&#160;                        cpit-&gt;setIntegrationCycle(owc-&gt;getIntegrationCycle());</div>
<div class="line"><a name="l05093"></a><span class="lineno"> 5093</span>&#160;</div>
<div class="line"><a name="l05094"></a><span class="lineno"> 5094</span>&#160;                        <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a55fa62fc0a7d2b9a752a73880415eea8">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#afc4a5062aeb6488f879e99df6cb35865" title="Register a new event in the scheduler.">registerEvent</a>(cpit);</div>
<div class="line"><a name="l05095"></a><span class="lineno"> 5095</span>&#160;</div>
<div class="line"><a name="l05096"></a><span class="lineno"> 5096</span>&#160;                        <span class="keyword">delete</span> <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ad39c413159fd6930b36470137771d841">compression_stack</a>-&gt;find(</div>
<div class="line"><a name="l05097"></a><span class="lineno"> 5097</span>&#160;                                owc-&gt;getIntegrationCycle())-&gt;second;</div>
<div class="line"><a name="l05098"></a><span class="lineno"> 5098</span>&#160;                        <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ad39c413159fd6930b36470137771d841">compression_stack</a>-&gt;erase(owc-&gt;getIntegrationCycle());</div>
<div class="line"><a name="l05099"></a><span class="lineno"> 5099</span>&#160;</div>
<div class="line"><a name="l05100"></a><span class="lineno"> 5100</span>&#160;                        <span class="keyword">delete</span> owc;</div>
<div class="line"><a name="l05101"></a><span class="lineno"> 5101</span>&#160;                        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05102"></a><span class="lineno"> 5102</span>&#160;                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (owc-&gt;getNumberOfObservationWindow()</div>
<div class="line"><a name="l05103"></a><span class="lineno"> 5103</span>&#160;                            == (<span class="keywordtype">unsigned</span> int)<a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;par(<span class="stringliteral">&quot;max_observation_window&quot;</span>).longValue()) {</div>
<div class="line"><a name="l05104"></a><span class="lineno"> 5104</span>&#160;</div>
<div class="line"><a name="l05105"></a><span class="lineno"> 5105</span>&#160;                        <span class="comment">//calculate the compression_funktion_delay and register the event for compressed pit</span></div>
<div class="line"><a name="l05106"></a><span class="lineno"> 5106</span>&#160;</div>
<div class="line"><a name="l05107"></a><span class="lineno"> 5107</span>&#160;                        <span class="keywordtype">int</span> compression_correction =</div>
<div class="line"><a name="l05108"></a><span class="lineno"> 5108</span>&#160;                                <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a82348318432501edc630883241bfa3ae">compress</a>(</div>
<div class="line"><a name="l05109"></a><span class="lineno"> 5109</span>&#160;                                        <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ad39c413159fd6930b36470137771d841">compression_stack</a>-&gt;find(</div>
<div class="line"><a name="l05110"></a><span class="lineno"> 5110</span>&#160;                                                owc-&gt;getIntegrationCycle())-&gt;second,</div>
<div class="line"><a name="l05111"></a><span class="lineno"> 5111</span>&#160;                                        <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;par(</div>
<div class="line"><a name="l05112"></a><span class="lineno"> 5112</span>&#160;                                                <span class="stringliteral">&quot;faulty_synchronisatzation_masters&quot;</span>).longValue());</div>
<div class="line"><a name="l05113"></a><span class="lineno"> 5113</span>&#160;</div>
<div class="line"><a name="l05114"></a><span class="lineno"> 5114</span>&#160;                        <span class="keywordtype">int</span> compression_funktion_delay = <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;par(</div>
<div class="line"><a name="l05115"></a><span class="lineno"> 5115</span>&#160;                                <span class="stringliteral">&quot;calculation_overhead&quot;</span>).longValue()</div>
<div class="line"><a name="l05116"></a><span class="lineno"> 5116</span>&#160;                                + compression_correction;</div>
<div class="line"><a name="l05117"></a><span class="lineno"> 5117</span>&#160;</div>
<div class="line"><a name="l05118"></a><span class="lineno"> 5118</span>&#160;                        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> roundMember = <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a7ecff4894d30876be2c5a1fbfca8afeb">setBits</a>(</div>
<div class="line"><a name="l05119"></a><span class="lineno"> 5119</span>&#160;                                <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ad39c413159fd6930b36470137771d841">compression_stack</a>-&gt;find(</div>
<div class="line"><a name="l05120"></a><span class="lineno"> 5120</span>&#160;                                        owc-&gt;getIntegrationCycle())-&gt;second);</div>
<div class="line"><a name="l05121"></a><span class="lineno"> 5121</span>&#160;</div>
<div class="line"><a name="l05122"></a><span class="lineno"> 5122</span>&#160;                        CompressedPIT *cpit = <span class="keyword">new</span> CompressedPIT(<span class="stringliteral">&quot;CP&quot;</span>,</div>
<div class="line"><a name="l05123"></a><span class="lineno"> 5123</span>&#160;                                <a class="code" href="namespace_t_t_ethernet_model.html#a7d0551d60b68ae7bedfd5d3d30f8b499a6cb1ab49053a3b9d013a1fcf4896ac5c">TIMER_EVENT</a>);</div>
<div class="line"><a name="l05124"></a><span class="lineno"> 5124</span>&#160;                        cpit-&gt;setDestinationGate(<a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;gate(<span class="stringliteral">&quot;schedulerIn&quot;</span>));</div>
<div class="line"><a name="l05125"></a><span class="lineno"> 5125</span>&#160;                        cpit-&gt;setTimer(compression_funktion_delay);</div>
<div class="line"><a name="l05126"></a><span class="lineno"> 5126</span>&#160;                        cpit-&gt;setSchedulingPriority(3);</div>
<div class="line"><a name="l05127"></a><span class="lineno"> 5127</span>&#160;                        cpit-&gt;setMembership_new(roundMember);</div>
<div class="line"><a name="l05128"></a><span class="lineno"> 5128</span>&#160;                        cpit-&gt;setIntegrationCycle(owc-&gt;getIntegrationCycle());</div>
<div class="line"><a name="l05129"></a><span class="lineno"> 5129</span>&#160;                        <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a55fa62fc0a7d2b9a752a73880415eea8">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#afc4a5062aeb6488f879e99df6cb35865" title="Register a new event in the scheduler.">registerEvent</a>(cpit);</div>
<div class="line"><a name="l05130"></a><span class="lineno"> 5130</span>&#160;</div>
<div class="line"><a name="l05131"></a><span class="lineno"> 5131</span>&#160;                        <span class="keyword">delete</span> <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ad39c413159fd6930b36470137771d841">compression_stack</a>-&gt;find(</div>
<div class="line"><a name="l05132"></a><span class="lineno"> 5132</span>&#160;                                owc-&gt;getIntegrationCycle())-&gt;second;</div>
<div class="line"><a name="l05133"></a><span class="lineno"> 5133</span>&#160;                        <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ad39c413159fd6930b36470137771d841">compression_stack</a>-&gt;erase(owc-&gt;getIntegrationCycle());</div>
<div class="line"><a name="l05134"></a><span class="lineno"> 5134</span>&#160;                        <span class="keyword">delete</span> owc;</div>
<div class="line"><a name="l05135"></a><span class="lineno"> 5135</span>&#160;                        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05136"></a><span class="lineno"> 5136</span>&#160;                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05137"></a><span class="lineno"> 5137</span>&#160;                        ev</div>
<div class="line"><a name="l05138"></a><span class="lineno"> 5138</span>&#160;                                &lt;&lt; <span class="stringliteral">&quot;Compression Function SI_CM_UNSYNC: Error END OBSERVATION WINDOW:&quot;</span></div>
<div class="line"><a name="l05139"></a><span class="lineno"> 5139</span>&#160;                                &lt;&lt; owc-&gt;getNumberOfObservationWindow() &lt;&lt; endl;</div>
<div class="line"><a name="l05140"></a><span class="lineno"> 5140</span>&#160;                        ev &lt;&lt; <span class="stringliteral">&quot;MAX Observation Window: &quot;</span></div>
<div class="line"><a name="l05141"></a><span class="lineno"> 5141</span>&#160;                                &lt;&lt; <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;par(<span class="stringliteral">&quot;max_observation_window&quot;</span>).longValue()</div>
<div class="line"><a name="l05142"></a><span class="lineno"> 5142</span>&#160;                                &lt;&lt; endl;</div>
<div class="line"><a name="l05143"></a><span class="lineno"> 5143</span>&#160;                    }</div>
<div class="line"><a name="l05144"></a><span class="lineno"> 5144</span>&#160;</div>
<div class="line"><a name="l05145"></a><span class="lineno"> 5145</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (owc-&gt;getLastNumberOfFrames()</div>
<div class="line"><a name="l05146"></a><span class="lineno"> 5146</span>&#160;                        &lt; <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ad39c413159fd6930b36470137771d841">compression_stack</a>-&gt;find(owc-&gt;getIntegrationCycle())-&gt;second-&gt;size()) {</div>
<div class="line"><a name="l05147"></a><span class="lineno"> 5147</span>&#160;                    <span class="comment">//pcf became permanent during the last observation window, check max ow reached</span></div>
<div class="line"><a name="l05148"></a><span class="lineno"> 5148</span>&#160;                    <span class="keywordflow">if</span> (owc-&gt;getNumberOfObservationWindow()</div>
<div class="line"><a name="l05149"></a><span class="lineno"> 5149</span>&#160;                            &lt; (<span class="keywordtype">unsigned</span> int)<a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;par(<span class="stringliteral">&quot;max_observation_window&quot;</span>).longValue()) {</div>
<div class="line"><a name="l05150"></a><span class="lineno"> 5150</span>&#160;                        <span class="comment">//open another ow</span></div>
<div class="line"><a name="l05151"></a><span class="lineno"> 5151</span>&#160;                        <span class="keywordtype">int</span> new_ow = (owc-&gt;getNumberOfObservationWindow()) + 1;</div>
<div class="line"><a name="l05152"></a><span class="lineno"> 5152</span>&#160;                        <span class="keywordtype">int</span> new_number_frames = <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ad39c413159fd6930b36470137771d841">compression_stack</a>-&gt;find(</div>
<div class="line"><a name="l05153"></a><span class="lineno"> 5153</span>&#160;                                owc-&gt;getIntegrationCycle())-&gt;second-&gt;size();</div>
<div class="line"><a name="l05154"></a><span class="lineno"> 5154</span>&#160;</div>
<div class="line"><a name="l05155"></a><span class="lineno"> 5155</span>&#160;                        owc-&gt;setNumberOfObservationWindow(new_ow);</div>
<div class="line"><a name="l05156"></a><span class="lineno"> 5156</span>&#160;                        owc-&gt;setLastNumberOfFrames(new_number_frames);</div>
<div class="line"><a name="l05157"></a><span class="lineno"> 5157</span>&#160;</div>
<div class="line"><a name="l05158"></a><span class="lineno"> 5158</span>&#160;                        <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a55fa62fc0a7d2b9a752a73880415eea8">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#afc4a5062aeb6488f879e99df6cb35865" title="Register a new event in the scheduler.">registerEvent</a>(owc);</div>
<div class="line"><a name="l05159"></a><span class="lineno"> 5159</span>&#160;</div>
<div class="line"><a name="l05160"></a><span class="lineno"> 5160</span>&#160;                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (owc-&gt;getNumberOfObservationWindow()</div>
<div class="line"><a name="l05161"></a><span class="lineno"> 5161</span>&#160;                            == (<span class="keywordtype">unsigned</span> int)<a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;par(<span class="stringliteral">&quot;max_observation_window&quot;</span>).longValue()) {</div>
<div class="line"><a name="l05162"></a><span class="lineno"> 5162</span>&#160;                        <span class="comment">//max_ow_reached</span></div>
<div class="line"><a name="l05163"></a><span class="lineno"> 5163</span>&#160;                        <span class="comment">//stop collecting</span></div>
<div class="line"><a name="l05164"></a><span class="lineno"> 5164</span>&#160;                        <span class="comment">//calculate the compression_funktion_delay and register the event for compressed pit</span></div>
<div class="line"><a name="l05165"></a><span class="lineno"> 5165</span>&#160;</div>
<div class="line"><a name="l05166"></a><span class="lineno"> 5166</span>&#160;                        <span class="keywordtype">int</span> compression_correction =</div>
<div class="line"><a name="l05167"></a><span class="lineno"> 5167</span>&#160;                                <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a82348318432501edc630883241bfa3ae">compress</a>(</div>
<div class="line"><a name="l05168"></a><span class="lineno"> 5168</span>&#160;                                        <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ad39c413159fd6930b36470137771d841">compression_stack</a>-&gt;find(</div>
<div class="line"><a name="l05169"></a><span class="lineno"> 5169</span>&#160;                                                owc-&gt;getIntegrationCycle())-&gt;second,</div>
<div class="line"><a name="l05170"></a><span class="lineno"> 5170</span>&#160;                                        <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;par(</div>
<div class="line"><a name="l05171"></a><span class="lineno"> 5171</span>&#160;                                                <span class="stringliteral">&quot;faulty_synchronisatzation_masters&quot;</span>).longValue());</div>
<div class="line"><a name="l05172"></a><span class="lineno"> 5172</span>&#160;</div>
<div class="line"><a name="l05173"></a><span class="lineno"> 5173</span>&#160;                        <span class="keywordtype">int</span> compression_funktion_delay = <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;par(</div>
<div class="line"><a name="l05174"></a><span class="lineno"> 5174</span>&#160;                                <span class="stringliteral">&quot;calculation_overhead&quot;</span>).longValue()</div>
<div class="line"><a name="l05175"></a><span class="lineno"> 5175</span>&#160;                                + compression_correction;</div>
<div class="line"><a name="l05176"></a><span class="lineno"> 5176</span>&#160;</div>
<div class="line"><a name="l05177"></a><span class="lineno"> 5177</span>&#160;                        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> roundMember = <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a7ecff4894d30876be2c5a1fbfca8afeb">setBits</a>(</div>
<div class="line"><a name="l05178"></a><span class="lineno"> 5178</span>&#160;                                <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ad39c413159fd6930b36470137771d841">compression_stack</a>-&gt;find(</div>
<div class="line"><a name="l05179"></a><span class="lineno"> 5179</span>&#160;                                        owc-&gt;getIntegrationCycle())-&gt;second);</div>
<div class="line"><a name="l05180"></a><span class="lineno"> 5180</span>&#160;</div>
<div class="line"><a name="l05181"></a><span class="lineno"> 5181</span>&#160;                        CompressedPIT *cpit = <span class="keyword">new</span> CompressedPIT(<span class="stringliteral">&quot;CP&quot;</span>,</div>
<div class="line"><a name="l05182"></a><span class="lineno"> 5182</span>&#160;                                <a class="code" href="namespace_t_t_ethernet_model.html#a7d0551d60b68ae7bedfd5d3d30f8b499a6cb1ab49053a3b9d013a1fcf4896ac5c">TIMER_EVENT</a>);</div>
<div class="line"><a name="l05183"></a><span class="lineno"> 5183</span>&#160;                        cpit-&gt;setDestinationGate(<a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;gate(<span class="stringliteral">&quot;schedulerIn&quot;</span>));</div>
<div class="line"><a name="l05184"></a><span class="lineno"> 5184</span>&#160;                        cpit-&gt;setTimer(compression_funktion_delay);</div>
<div class="line"><a name="l05185"></a><span class="lineno"> 5185</span>&#160;                        cpit-&gt;setSchedulingPriority(3);</div>
<div class="line"><a name="l05186"></a><span class="lineno"> 5186</span>&#160;                        cpit-&gt;setMembership_new(roundMember);</div>
<div class="line"><a name="l05187"></a><span class="lineno"> 5187</span>&#160;                        cpit-&gt;setIntegrationCycle(owc-&gt;getIntegrationCycle());</div>
<div class="line"><a name="l05188"></a><span class="lineno"> 5188</span>&#160;                        <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a55fa62fc0a7d2b9a752a73880415eea8">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#afc4a5062aeb6488f879e99df6cb35865" title="Register a new event in the scheduler.">registerEvent</a>(cpit);</div>
<div class="line"><a name="l05189"></a><span class="lineno"> 5189</span>&#160;</div>
<div class="line"><a name="l05190"></a><span class="lineno"> 5190</span>&#160;                        <span class="keyword">delete</span> <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ad39c413159fd6930b36470137771d841">compression_stack</a>-&gt;find(</div>
<div class="line"><a name="l05191"></a><span class="lineno"> 5191</span>&#160;                                owc-&gt;getIntegrationCycle())-&gt;second;</div>
<div class="line"><a name="l05192"></a><span class="lineno"> 5192</span>&#160;                        <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ad39c413159fd6930b36470137771d841">compression_stack</a>-&gt;erase(owc-&gt;getIntegrationCycle());</div>
<div class="line"><a name="l05193"></a><span class="lineno"> 5193</span>&#160;                        <span class="keyword">delete</span> owc;</div>
<div class="line"><a name="l05194"></a><span class="lineno"> 5194</span>&#160;                        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05195"></a><span class="lineno"> 5195</span>&#160;                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05196"></a><span class="lineno"> 5196</span>&#160;                        ev</div>
<div class="line"><a name="l05197"></a><span class="lineno"> 5197</span>&#160;                                &lt;&lt; <span class="stringliteral">&quot;Compression Function SI_CM_UNSYNC: Error END OBSERVATION WINDOW:&quot;</span></div>
<div class="line"><a name="l05198"></a><span class="lineno"> 5198</span>&#160;                                &lt;&lt; owc-&gt;getNumberOfObservationWindow() &lt;&lt; endl;</div>
<div class="line"><a name="l05199"></a><span class="lineno"> 5199</span>&#160;                        ev &lt;&lt; <span class="stringliteral">&quot;MAX Observation Window: &quot;</span></div>
<div class="line"><a name="l05200"></a><span class="lineno"> 5200</span>&#160;                                &lt;&lt; <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;par(<span class="stringliteral">&quot;max_observation_window&quot;</span>).longValue()</div>
<div class="line"><a name="l05201"></a><span class="lineno"> 5201</span>&#160;                                &lt;&lt; endl;</div>
<div class="line"><a name="l05202"></a><span class="lineno"> 5202</span>&#160;</div>
<div class="line"><a name="l05203"></a><span class="lineno"> 5203</span>&#160;                    }</div>
<div class="line"><a name="l05204"></a><span class="lineno"> 5204</span>&#160;                    <span class="comment">//pcf became permanent during the last observation window, check max ow reached</span></div>
<div class="line"><a name="l05205"></a><span class="lineno"> 5205</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05206"></a><span class="lineno"> 5206</span>&#160;                    ev</div>
<div class="line"><a name="l05207"></a><span class="lineno"> 5207</span>&#160;                            &lt;&lt; <span class="stringliteral">&quot;Compression Function SI_CM_UNSYNC: Error owc-&gt;getLastNumberOfFrames() &gt; compression_stack-&gt;find(owc-&gt;getIntegrationCycle())-&gt;second-&gt;size()&quot;</span></div>
<div class="line"><a name="l05208"></a><span class="lineno"> 5208</span>&#160;                            &lt;&lt; owc-&gt;getNumberOfObservationWindow() &lt;&lt; endl;</div>
<div class="line"><a name="l05209"></a><span class="lineno"> 5209</span>&#160;                }</div>
<div class="line"><a name="l05210"></a><span class="lineno"> 5210</span>&#160;</div>
<div class="line"><a name="l05211"></a><span class="lineno"> 5211</span>&#160;            } <span class="comment">//compression Function witch matching integration cycle found</span></div>
<div class="line"><a name="l05212"></a><span class="lineno"> 5212</span>&#160;</div>
<div class="line"><a name="l05213"></a><span class="lineno"> 5213</span>&#160;        } <span class="comment">//OW</span></div>
<div class="line"><a name="l05214"></a><span class="lineno"> 5214</span>&#160;</div>
<div class="line"><a name="l05215"></a><span class="lineno"> 5215</span>&#160;    } <span class="comment">//schedulerIn</span></div>
<div class="line"><a name="l05216"></a><span class="lineno"> 5216</span>&#160;</div>
<div class="line"><a name="l05217"></a><span class="lineno"> 5217</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a00ad78b5518ddb8df849c1719c71e454"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TTEthernetModel::SI_CM_UNSYNC::compressionFunctionCA </td>
          <td>(</td>
          <td class="paramtype">cMessage *&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_t_t_ethernet_model_1_1_s_i_c_m.html">SICM</a> *&#160;</td>
          <td class="paramname"><em>sicm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#af21fae5026c744acddf50b6d6fa405eb">TTEthernetModel::SICMState</a>.</p>

<p>Definition at line <a class="el" href="_s_i_c_m_states_8cc_source.html#l05219">5219</a> of file <a class="el" href="_s_i_c_m_states_8cc_source.html">SICMStates.cc</a>.</p>

<p>Referenced by <a class="el" href="_s_i_c_m_states_8cc_source.html#l01118">handleMessage()</a>.</p>
<div class="fragment"><div class="line"><a name="l05219"></a><span class="lineno"> 5219</span>&#160;                                                                      {</div>
<div class="line"><a name="l05220"></a><span class="lineno"> 5220</span>&#160;</div>
<div class="line"><a name="l05221"></a><span class="lineno"> 5221</span>&#160;    <span class="keywordflow">if</span> (message-&gt;arrivedOn(<span class="stringliteral">&quot;RCin&quot;</span>)) {</div>
<div class="line"><a name="l05222"></a><span class="lineno"> 5222</span>&#160;</div>
<div class="line"><a name="l05223"></a><span class="lineno"> 5223</span>&#160;        <span class="comment">//CM make all PCF frames permanent before usage</span></div>
<div class="line"><a name="l05224"></a><span class="lineno"> 5224</span>&#160;</div>
<div class="line"><a name="l05225"></a><span class="lineno"> 5225</span>&#160;        PCFrame *pf = NULL;</div>
<div class="line"><a name="l05226"></a><span class="lineno"> 5226</span>&#160;        pf = <span class="keyword">dynamic_cast&lt;</span>PCFrame *<span class="keyword">&gt;</span>(message);</div>
<div class="line"><a name="l05227"></a><span class="lineno"> 5227</span>&#160;</div>
<div class="line"><a name="l05228"></a><span class="lineno"> 5228</span>&#160;        <span class="comment">//calculate permanence pit</span></div>
<div class="line"><a name="l05229"></a><span class="lineno"> 5229</span>&#160;        <span class="keywordtype">int</span> permanence_delay = <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a322348e8045c3e8c824e94b09606f5a5">max_transmision_delay</a></div>
<div class="line"><a name="l05230"></a><span class="lineno"> 5230</span>&#160;                - (<a class="code" href="_helper_functions_8cc.html#ab7aebf5462b19bd64206b5ab5ebb3392" title="Converts value in the transparent clock unit that is ns*0x10000 to ticks.">transparentClockToTicks</a>(pf-&gt;getTransparent_clock(),</div>
<div class="line"><a name="l05231"></a><span class="lineno"> 5231</span>&#160;                        <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a55fa62fc0a7d2b9a752a73880415eea8">tteScheduler</a>-&gt;par(<span class="stringliteral">&quot;tick&quot;</span>).doubleValue())</div>
<div class="line"><a name="l05232"></a><span class="lineno"> 5232</span>&#160;                        + (<a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a55fa62fc0a7d2b9a752a73880415eea8">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#ac0ad022871d9c70f81625755d7cdb77e" title="Returns the absolute number of ticks.">getTotalTicks</a>()</div>
<div class="line"><a name="l05233"></a><span class="lineno"> 5233</span>&#160;                                - pf-&gt;par(<span class="stringliteral">&quot;received_total&quot;</span>).longValue()));</div>
<div class="line"><a name="l05234"></a><span class="lineno"> 5234</span>&#160;</div>
<div class="line"><a name="l05235"></a><span class="lineno"> 5235</span>&#160;        <span class="comment">//CA FRAME ?</span></div>
<div class="line"><a name="l05236"></a><span class="lineno"> 5236</span>&#160;        <span class="keywordflow">if</span> (pf-&gt;getType() == <a class="code" href="namespace_t_t_ethernet_model.html#a1ee6d33b2f327407c3f27ead021da60eac869b30499d7d077b91e09fa29d87108">CA_FRAME</a>) {</div>
<div class="line"><a name="l05237"></a><span class="lineno"> 5237</span>&#160;            ev &lt;&lt; <span class="stringliteral">&quot;COMP FNCT SI_CM_UNSYNC MEMBER&quot;</span> &lt;&lt; (pf)-&gt;getMembership_new()</div>
<div class="line"><a name="l05238"></a><span class="lineno"> 5238</span>&#160;                    &lt;&lt; endl;</div>
<div class="line"><a name="l05239"></a><span class="lineno"> 5239</span>&#160;            ev &lt;&lt; <span class="stringliteral">&quot;COMP FNCT SI_CM_UNSYNC INT CYCL&quot;</span></div>
<div class="line"><a name="l05240"></a><span class="lineno"> 5240</span>&#160;                    &lt;&lt; (pf)-&gt;getIntegration_cycle() &lt;&lt; endl;</div>
<div class="line"><a name="l05241"></a><span class="lineno"> 5241</span>&#160;</div>
<div class="line"><a name="l05242"></a><span class="lineno"> 5242</span>&#160;            FrameEvent *f_event = <span class="keyword">new</span> FrameEvent(<span class="stringliteral">&quot;CA_FRAME&quot;</span>, <a class="code" href="namespace_t_t_ethernet_model.html#a7d0551d60b68ae7bedfd5d3d30f8b499a6cb1ab49053a3b9d013a1fcf4896ac5c">TIMER_EVENT</a>);</div>
<div class="line"><a name="l05243"></a><span class="lineno"> 5243</span>&#160;</div>
<div class="line"><a name="l05244"></a><span class="lineno"> 5244</span>&#160;            f_event-&gt;setMember((pf)-&gt;getMembership_new());</div>
<div class="line"><a name="l05245"></a><span class="lineno"> 5245</span>&#160;            f_event-&gt;setPcfType((pf)-&gt;getType());</div>
<div class="line"><a name="l05246"></a><span class="lineno"> 5246</span>&#160;            f_event-&gt;setIntegrationCycle(pf-&gt;getIntegration_cycle());</div>
<div class="line"><a name="l05247"></a><span class="lineno"> 5247</span>&#160;            <span class="comment">//f_event-&gt;setPit(permanence_pit);</span></div>
<div class="line"><a name="l05248"></a><span class="lineno"> 5248</span>&#160;            <span class="comment">//f_event-&gt;setAction_time(permanence_pit);</span></div>
<div class="line"><a name="l05249"></a><span class="lineno"> 5249</span>&#160;            f_event-&gt;setTimer(permanence_delay);</div>
<div class="line"><a name="l05250"></a><span class="lineno"> 5250</span>&#160;            f_event-&gt;setDestinationGate(<a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;gate(<span class="stringliteral">&quot;schedulerIn&quot;</span>));</div>
<div class="line"><a name="l05251"></a><span class="lineno"> 5251</span>&#160;            f_event-&gt;setSchedulingPriority(2);</div>
<div class="line"><a name="l05252"></a><span class="lineno"> 5252</span>&#160;</div>
<div class="line"><a name="l05253"></a><span class="lineno"> 5253</span>&#160;            <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a55fa62fc0a7d2b9a752a73880415eea8">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#afc4a5062aeb6488f879e99df6cb35865" title="Register a new event in the scheduler.">registerEvent</a>(f_event);</div>
<div class="line"><a name="l05254"></a><span class="lineno"> 5254</span>&#160;</div>
<div class="line"><a name="l05255"></a><span class="lineno"> 5255</span>&#160;            <span class="keyword">delete</span> pf;</div>
<div class="line"><a name="l05256"></a><span class="lineno"> 5256</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05257"></a><span class="lineno"> 5257</span>&#160;</div>
<div class="line"><a name="l05258"></a><span class="lineno"> 5258</span>&#160;        } <span class="comment">//gate RCin (PCF FRAME)</span></div>
<div class="line"><a name="l05259"></a><span class="lineno"> 5259</span>&#160;</div>
<div class="line"><a name="l05260"></a><span class="lineno"> 5260</span>&#160;        ev &lt;&lt; <span class="stringliteral">&quot;ERROR COMP FUNC CA&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l05261"></a><span class="lineno"> 5261</span>&#160;        <span class="keyword">delete</span> pf;</div>
<div class="line"><a name="l05262"></a><span class="lineno"> 5262</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05263"></a><span class="lineno"> 5263</span>&#160;</div>
<div class="line"><a name="l05264"></a><span class="lineno"> 5264</span>&#160;    }</div>
<div class="line"><a name="l05265"></a><span class="lineno"> 5265</span>&#160;</div>
<div class="line"><a name="l05266"></a><span class="lineno"> 5266</span>&#160;    <span class="keywordflow">if</span> ((message)-&gt;arrivedOn(<span class="stringliteral">&quot;schedulerIn&quot;</span>)) {</div>
<div class="line"><a name="l05267"></a><span class="lineno"> 5267</span>&#160;</div>
<div class="line"><a name="l05268"></a><span class="lineno"> 5268</span>&#160;        <span class="keywordflow">if</span> (<span class="keywordtype">string</span>((message)-&gt;getName()).compare(<span class="stringliteral">&quot;CA_FRAME&quot;</span>) == 0) {</div>
<div class="line"><a name="l05269"></a><span class="lineno"> 5269</span>&#160;</div>
<div class="line"><a name="l05270"></a><span class="lineno"> 5270</span>&#160;            FrameEvent *evt = <span class="keyword">dynamic_cast&lt;</span>FrameEvent *<span class="keyword">&gt;</span>(message);</div>
<div class="line"><a name="l05271"></a><span class="lineno"> 5271</span>&#160;</div>
<div class="line"><a name="l05272"></a><span class="lineno"> 5272</span>&#160;            ev &lt;&lt; <span class="stringliteral">&quot;COMP FNCT SI_CM_UNSYNC MEMBER(CA EVENT)&quot;</span></div>
<div class="line"><a name="l05273"></a><span class="lineno"> 5273</span>&#160;                    &lt;&lt; (evt)-&gt;getMember() &lt;&lt; endl;</div>
<div class="line"><a name="l05274"></a><span class="lineno"> 5274</span>&#160;            ev &lt;&lt; <span class="stringliteral">&quot;COMP FNCT SI_CM_UNSYNC INT CYCL(CA EVENT)&quot;</span></div>
<div class="line"><a name="l05275"></a><span class="lineno"> 5275</span>&#160;                    &lt;&lt; (evt)-&gt;getPcfType() &lt;&lt; endl;</div>
<div class="line"><a name="l05276"></a><span class="lineno"> 5276</span>&#160;</div>
<div class="line"><a name="l05277"></a><span class="lineno"> 5277</span>&#160;            <span class="keywordtype">int</span> int_cycle = evt-&gt;getIntegrationCycle();</div>
<div class="line"><a name="l05278"></a><span class="lineno"> 5278</span>&#160;            uint64_t current_ppt = <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a55fa62fc0a7d2b9a752a73880415eea8">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#a6831234789320df881e83389f49cd773" title="Returns the current number of ticks.">getTicks</a>();</div>
<div class="line"><a name="l05279"></a><span class="lineno"> 5279</span>&#160;</div>
<div class="line"><a name="l05280"></a><span class="lineno"> 5280</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ac2c59bf5641a72a14c1279e097106334">ca_compression_stack</a>-&gt;find(int_cycle)</div>
<div class="line"><a name="l05281"></a><span class="lineno"> 5281</span>&#160;                    != <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ac2c59bf5641a72a14c1279e097106334">ca_compression_stack</a>-&gt;end()) {</div>
<div class="line"><a name="l05282"></a><span class="lineno"> 5282</span>&#160;</div>
<div class="line"><a name="l05283"></a><span class="lineno"> 5283</span>&#160;                <span class="comment">//there is a compression function with matching integration cycle collecting PCF&#39;s</span></div>
<div class="line"><a name="l05284"></a><span class="lineno"> 5284</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ac2c59bf5641a72a14c1279e097106334">ca_compression_stack</a>-&gt;find(int_cycle)-&gt;second-&gt;push_back(</div>
<div class="line"><a name="l05285"></a><span class="lineno"> 5285</span>&#160;                        pair&lt;unsigned int, unsigned int&gt;(evt-&gt;getMember(),</div>
<div class="line"><a name="l05286"></a><span class="lineno"> 5286</span>&#160;                                current_ppt));</div>
<div class="line"><a name="l05287"></a><span class="lineno"> 5287</span>&#160;                ev</div>
<div class="line"><a name="l05288"></a><span class="lineno"> 5288</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;there is a compression function with matching integration cycle collecting PCF&#39;s&quot;</span></div>
<div class="line"><a name="l05289"></a><span class="lineno"> 5289</span>&#160;                        &lt;&lt; endl;</div>
<div class="line"><a name="l05290"></a><span class="lineno"> 5290</span>&#160;                ev &lt;&lt; <span class="stringliteral">&quot;cycle_found&quot;</span> &lt;&lt; int_cycle &lt;&lt; endl;</div>
<div class="line"><a name="l05291"></a><span class="lineno"> 5291</span>&#160;                <span class="keyword">delete</span> evt;</div>
<div class="line"><a name="l05292"></a><span class="lineno"> 5292</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05293"></a><span class="lineno"> 5293</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05294"></a><span class="lineno"> 5294</span>&#160;                <span class="comment">//no compression function with matching integration cycle collecting PCF&#39;s</span></div>
<div class="line"><a name="l05295"></a><span class="lineno"> 5295</span>&#160;                <span class="comment">//start collecting phase</span></div>
<div class="line"><a name="l05296"></a><span class="lineno"> 5296</span>&#160;</div>
<div class="line"><a name="l05297"></a><span class="lineno"> 5297</span>&#160;                vector&lt;pair&lt;unsigned int, unsigned int&gt; &gt; *ppt = <span class="keyword">new</span> vector&lt;</div>
<div class="line"><a name="l05298"></a><span class="lineno"> 5298</span>&#160;                        pair&lt;unsigned int, unsigned int&gt; &gt;;</div>
<div class="line"><a name="l05299"></a><span class="lineno"> 5299</span>&#160;</div>
<div class="line"><a name="l05300"></a><span class="lineno"> 5300</span>&#160;                ppt-&gt;push_back(</div>
<div class="line"><a name="l05301"></a><span class="lineno"> 5301</span>&#160;                        pair&lt;unsigned int, unsigned int&gt;(evt-&gt;getMember(),</div>
<div class="line"><a name="l05302"></a><span class="lineno"> 5302</span>&#160;                                current_ppt));</div>
<div class="line"><a name="l05303"></a><span class="lineno"> 5303</span>&#160;</div>
<div class="line"><a name="l05304"></a><span class="lineno"> 5304</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ac2c59bf5641a72a14c1279e097106334">ca_compression_stack</a>-&gt;insert(</div>
<div class="line"><a name="l05305"></a><span class="lineno"> 5305</span>&#160;                        pair&lt;<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>,</div>
<div class="line"><a name="l05306"></a><span class="lineno"> 5306</span>&#160;                                vector&lt;pair&lt;unsigned int, unsigned int&gt; &gt; *&gt;(</div>
<div class="line"><a name="l05307"></a><span class="lineno"> 5307</span>&#160;                                int_cycle, ppt));</div>
<div class="line"><a name="l05308"></a><span class="lineno"> 5308</span>&#160;</div>
<div class="line"><a name="l05309"></a><span class="lineno"> 5309</span>&#160;                OWCounter *ow = <span class="keyword">new</span> OWCounter(<span class="stringliteral">&quot;OW_CA&quot;</span>, <a class="code" href="namespace_t_t_ethernet_model.html#a7d0551d60b68ae7bedfd5d3d30f8b499a6cb1ab49053a3b9d013a1fcf4896ac5c">TIMER_EVENT</a>);</div>
<div class="line"><a name="l05310"></a><span class="lineno"> 5310</span>&#160;</div>
<div class="line"><a name="l05311"></a><span class="lineno"> 5311</span>&#160;                ow-&gt;setDestinationGate(<a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;gate(<span class="stringliteral">&quot;schedulerIn&quot;</span>));</div>
<div class="line"><a name="l05312"></a><span class="lineno"> 5312</span>&#160;                ow-&gt;setSchedulingPriority(3);</div>
<div class="line"><a name="l05313"></a><span class="lineno"> 5313</span>&#160;                ow-&gt;setTimer(<a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;par(<span class="stringliteral">&quot;observation_window_size&quot;</span>).longValue());</div>
<div class="line"><a name="l05314"></a><span class="lineno"> 5314</span>&#160;</div>
<div class="line"><a name="l05315"></a><span class="lineno"> 5315</span>&#160;                ow-&gt;setNumberOfObservationWindow(1);</div>
<div class="line"><a name="l05316"></a><span class="lineno"> 5316</span>&#160;                ow-&gt;setLastNumberOfFrames(1);</div>
<div class="line"><a name="l05317"></a><span class="lineno"> 5317</span>&#160;                ow-&gt;setIntegrationCycle(int_cycle);</div>
<div class="line"><a name="l05318"></a><span class="lineno"> 5318</span>&#160;</div>
<div class="line"><a name="l05319"></a><span class="lineno"> 5319</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a55fa62fc0a7d2b9a752a73880415eea8">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#afc4a5062aeb6488f879e99df6cb35865" title="Register a new event in the scheduler.">registerEvent</a>(ow);</div>
<div class="line"><a name="l05320"></a><span class="lineno"> 5320</span>&#160;</div>
<div class="line"><a name="l05321"></a><span class="lineno"> 5321</span>&#160;                ev</div>
<div class="line"><a name="l05322"></a><span class="lineno"> 5322</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;SI_CM_UNSYNC Compression Function SI_CM_UNSYNC:Collection Phase started&quot;</span></div>
<div class="line"><a name="l05323"></a><span class="lineno"> 5323</span>&#160;                        &lt;&lt; endl;</div>
<div class="line"><a name="l05324"></a><span class="lineno"> 5324</span>&#160;                ev &lt;&lt; <span class="stringliteral">&quot;SI_CM_UNSYNC Compression Fuction :(vector size)&quot;</span></div>
<div class="line"><a name="l05325"></a><span class="lineno"> 5325</span>&#160;                        &lt;&lt; <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ac2c59bf5641a72a14c1279e097106334">ca_compression_stack</a>-&gt;find(int_cycle)-&gt;second-&gt;size()</div>
<div class="line"><a name="l05326"></a><span class="lineno"> 5326</span>&#160;                        &lt;&lt; endl;</div>
<div class="line"><a name="l05327"></a><span class="lineno"> 5327</span>&#160;                ev &lt;&lt; <span class="stringliteral">&quot;SI_CM_UNSYNC Compression Function : int cycle&quot;</span></div>
<div class="line"><a name="l05328"></a><span class="lineno"> 5328</span>&#160;                        &lt;&lt; int_cycle &lt;&lt; endl;</div>
<div class="line"><a name="l05329"></a><span class="lineno"> 5329</span>&#160;</div>
<div class="line"><a name="l05330"></a><span class="lineno"> 5330</span>&#160;                <span class="keyword">delete</span> evt;</div>
<div class="line"><a name="l05331"></a><span class="lineno"> 5331</span>&#160;</div>
<div class="line"><a name="l05332"></a><span class="lineno"> 5332</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05333"></a><span class="lineno"> 5333</span>&#160;            }</div>
<div class="line"><a name="l05334"></a><span class="lineno"> 5334</span>&#160;</div>
<div class="line"><a name="l05335"></a><span class="lineno"> 5335</span>&#160;        } <span class="comment">//handle FrameEvent</span></div>
<div class="line"><a name="l05336"></a><span class="lineno"> 5336</span>&#160;</div>
<div class="line"><a name="l05337"></a><span class="lineno"> 5337</span>&#160;        <span class="keywordflow">if</span> (<span class="keywordtype">string</span>(message-&gt;getName()).compare(<span class="stringliteral">&quot;OW_CA&quot;</span>) == 0) {</div>
<div class="line"><a name="l05338"></a><span class="lineno"> 5338</span>&#160;</div>
<div class="line"><a name="l05339"></a><span class="lineno"> 5339</span>&#160;            OWCounter *owc = <span class="keyword">dynamic_cast&lt;</span>OWCounter *<span class="keyword">&gt;</span>(message);</div>
<div class="line"><a name="l05340"></a><span class="lineno"> 5340</span>&#160;</div>
<div class="line"><a name="l05341"></a><span class="lineno"> 5341</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ac2c59bf5641a72a14c1279e097106334">ca_compression_stack</a>-&gt;find(owc-&gt;getIntegrationCycle())</div>
<div class="line"><a name="l05342"></a><span class="lineno"> 5342</span>&#160;                    == <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ac2c59bf5641a72a14c1279e097106334">ca_compression_stack</a>-&gt;end()) {</div>
<div class="line"><a name="l05343"></a><span class="lineno"> 5343</span>&#160;</div>
<div class="line"><a name="l05344"></a><span class="lineno"> 5344</span>&#160;                ev</div>
<div class="line"><a name="l05345"></a><span class="lineno"> 5345</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;DEBUG Compression Funktion SI_CM_UNSYNC: OW: no such integration cycle: &quot;</span></div>
<div class="line"><a name="l05346"></a><span class="lineno"> 5346</span>&#160;                        &lt;&lt; owc-&gt;getIntegrationCycle() &lt;&lt; endl;</div>
<div class="line"><a name="l05347"></a><span class="lineno"> 5347</span>&#160;</div>
<div class="line"><a name="l05348"></a><span class="lineno"> 5348</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05349"></a><span class="lineno"> 5349</span>&#160;                <span class="comment">//compression function is active</span></div>
<div class="line"><a name="l05350"></a><span class="lineno"> 5350</span>&#160;                <span class="comment">//check for frames received during the last observation window</span></div>
<div class="line"><a name="l05351"></a><span class="lineno"> 5351</span>&#160;                <span class="keywordflow">if</span> (owc-&gt;getLastNumberOfFrames()</div>
<div class="line"><a name="l05352"></a><span class="lineno"> 5352</span>&#160;                        == <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ac2c59bf5641a72a14c1279e097106334">ca_compression_stack</a>-&gt;find(</div>
<div class="line"><a name="l05353"></a><span class="lineno"> 5353</span>&#160;                                owc-&gt;getIntegrationCycle())-&gt;second-&gt;size()) {</div>
<div class="line"><a name="l05354"></a><span class="lineno"> 5354</span>&#160;                    <span class="comment">//no new pcf IN frames became permanent during the last observation window</span></div>
<div class="line"><a name="l05355"></a><span class="lineno"> 5355</span>&#160;                    <span class="comment">// stop collecting</span></div>
<div class="line"><a name="l05356"></a><span class="lineno"> 5356</span>&#160;                    <span class="comment">//check reaching max_observation_window</span></div>
<div class="line"><a name="l05357"></a><span class="lineno"> 5357</span>&#160;                    <span class="keywordflow">if</span> (owc-&gt;getNumberOfObservationWindow()</div>
<div class="line"><a name="l05358"></a><span class="lineno"> 5358</span>&#160;                            &lt; (<span class="keywordtype">unsigned</span> int)<a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;par(<span class="stringliteral">&quot;max_observation_window&quot;</span>).longValue()) {</div>
<div class="line"><a name="l05359"></a><span class="lineno"> 5359</span>&#160;</div>
<div class="line"><a name="l05360"></a><span class="lineno"> 5360</span>&#160;                        <span class="comment">//calculate the compression_funktion_delay and register the event for compressed pit</span></div>
<div class="line"><a name="l05361"></a><span class="lineno"> 5361</span>&#160;</div>
<div class="line"><a name="l05362"></a><span class="lineno"> 5362</span>&#160;                        <span class="keywordtype">int</span> restOW =</div>
<div class="line"><a name="l05363"></a><span class="lineno"> 5363</span>&#160;                                (<a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;par(<span class="stringliteral">&quot;max_observation_window&quot;</span>).longValue()</div>
<div class="line"><a name="l05364"></a><span class="lineno"> 5364</span>&#160;                                        - owc-&gt;getNumberOfObservationWindow())</div>
<div class="line"><a name="l05365"></a><span class="lineno"> 5365</span>&#160;                                        * <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;par(<span class="stringliteral">&quot;observation_window_size&quot;</span>).longValue();</div>
<div class="line"><a name="l05366"></a><span class="lineno"> 5366</span>&#160;</div>
<div class="line"><a name="l05367"></a><span class="lineno"> 5367</span>&#160;                        <span class="keywordtype">int</span> compression_correction =</div>
<div class="line"><a name="l05368"></a><span class="lineno"> 5368</span>&#160;                                <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a82348318432501edc630883241bfa3ae">compress</a>(</div>
<div class="line"><a name="l05369"></a><span class="lineno"> 5369</span>&#160;                                        <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ac2c59bf5641a72a14c1279e097106334">ca_compression_stack</a>-&gt;find(</div>
<div class="line"><a name="l05370"></a><span class="lineno"> 5370</span>&#160;                                                owc-&gt;getIntegrationCycle())-&gt;second,</div>
<div class="line"><a name="l05371"></a><span class="lineno"> 5371</span>&#160;                                        <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;par(</div>
<div class="line"><a name="l05372"></a><span class="lineno"> 5372</span>&#160;                                                <span class="stringliteral">&quot;faulty_synchronisatzation_masters&quot;</span>).longValue());</div>
<div class="line"><a name="l05373"></a><span class="lineno"> 5373</span>&#160;</div>
<div class="line"><a name="l05374"></a><span class="lineno"> 5374</span>&#160;                        <span class="keywordtype">int</span> compression_funktion_delay = restOW</div>
<div class="line"><a name="l05375"></a><span class="lineno"> 5375</span>&#160;                                + <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;par(<span class="stringliteral">&quot;calculation_overhead&quot;</span>).longValue()</div>
<div class="line"><a name="l05376"></a><span class="lineno"> 5376</span>&#160;                                + compression_correction;</div>
<div class="line"><a name="l05377"></a><span class="lineno"> 5377</span>&#160;</div>
<div class="line"><a name="l05378"></a><span class="lineno"> 5378</span>&#160;                        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> roundMember = <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a7ecff4894d30876be2c5a1fbfca8afeb">setBits</a>(</div>
<div class="line"><a name="l05379"></a><span class="lineno"> 5379</span>&#160;                                <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ac2c59bf5641a72a14c1279e097106334">ca_compression_stack</a>-&gt;find(</div>
<div class="line"><a name="l05380"></a><span class="lineno"> 5380</span>&#160;                                        owc-&gt;getIntegrationCycle())-&gt;second);</div>
<div class="line"><a name="l05381"></a><span class="lineno"> 5381</span>&#160;</div>
<div class="line"><a name="l05382"></a><span class="lineno"> 5382</span>&#160;                        ev &lt;&lt; <span class="stringliteral">&quot;Compression Function SI_CM_UNSYNC round member&quot;</span></div>
<div class="line"><a name="l05383"></a><span class="lineno"> 5383</span>&#160;                                &lt;&lt; roundMember &lt;&lt; endl;</div>
<div class="line"><a name="l05384"></a><span class="lineno"> 5384</span>&#160;</div>
<div class="line"><a name="l05385"></a><span class="lineno"> 5385</span>&#160;                        CompressedPIT *cpit = <span class="keyword">new</span> CompressedPIT(<span class="stringliteral">&quot;CPCA&quot;</span>,</div>
<div class="line"><a name="l05386"></a><span class="lineno"> 5386</span>&#160;                                <a class="code" href="namespace_t_t_ethernet_model.html#a7d0551d60b68ae7bedfd5d3d30f8b499a6cb1ab49053a3b9d013a1fcf4896ac5c">TIMER_EVENT</a>);</div>
<div class="line"><a name="l05387"></a><span class="lineno"> 5387</span>&#160;                        cpit-&gt;setDestinationGate(<a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;gate(<span class="stringliteral">&quot;schedulerIn&quot;</span>));</div>
<div class="line"><a name="l05388"></a><span class="lineno"> 5388</span>&#160;                        cpit-&gt;setTimer(compression_funktion_delay);</div>
<div class="line"><a name="l05389"></a><span class="lineno"> 5389</span>&#160;                        cpit-&gt;setSchedulingPriority(3);</div>
<div class="line"><a name="l05390"></a><span class="lineno"> 5390</span>&#160;                        cpit-&gt;setMembership_new(roundMember);</div>
<div class="line"><a name="l05391"></a><span class="lineno"> 5391</span>&#160;</div>
<div class="line"><a name="l05392"></a><span class="lineno"> 5392</span>&#160;                        <span class="keyword">delete</span> <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ac2c59bf5641a72a14c1279e097106334">ca_compression_stack</a>-&gt;find(</div>
<div class="line"><a name="l05393"></a><span class="lineno"> 5393</span>&#160;                                owc-&gt;getIntegrationCycle())-&gt;second;</div>
<div class="line"><a name="l05394"></a><span class="lineno"> 5394</span>&#160;                        <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ac2c59bf5641a72a14c1279e097106334">ca_compression_stack</a>-&gt;erase(owc-&gt;getIntegrationCycle());</div>
<div class="line"><a name="l05395"></a><span class="lineno"> 5395</span>&#160;</div>
<div class="line"><a name="l05396"></a><span class="lineno"> 5396</span>&#160;                        <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a55fa62fc0a7d2b9a752a73880415eea8">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#afc4a5062aeb6488f879e99df6cb35865" title="Register a new event in the scheduler.">registerEvent</a>(cpit);</div>
<div class="line"><a name="l05397"></a><span class="lineno"> 5397</span>&#160;</div>
<div class="line"><a name="l05398"></a><span class="lineno"> 5398</span>&#160;                        <span class="keyword">delete</span> owc;</div>
<div class="line"><a name="l05399"></a><span class="lineno"> 5399</span>&#160;                        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05400"></a><span class="lineno"> 5400</span>&#160;</div>
<div class="line"><a name="l05401"></a><span class="lineno"> 5401</span>&#160;                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (owc-&gt;getNumberOfObservationWindow()</div>
<div class="line"><a name="l05402"></a><span class="lineno"> 5402</span>&#160;                            == (<span class="keywordtype">unsigned</span> int)<a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;par(<span class="stringliteral">&quot;max_observation_window&quot;</span>).longValue()) {</div>
<div class="line"><a name="l05403"></a><span class="lineno"> 5403</span>&#160;</div>
<div class="line"><a name="l05404"></a><span class="lineno"> 5404</span>&#160;                        <span class="comment">//calculate the compression_funktion_delay and register the event for compressed pit</span></div>
<div class="line"><a name="l05405"></a><span class="lineno"> 5405</span>&#160;</div>
<div class="line"><a name="l05406"></a><span class="lineno"> 5406</span>&#160;                        <span class="keywordtype">int</span> compression_correction =</div>
<div class="line"><a name="l05407"></a><span class="lineno"> 5407</span>&#160;                                <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a82348318432501edc630883241bfa3ae">compress</a>(</div>
<div class="line"><a name="l05408"></a><span class="lineno"> 5408</span>&#160;                                        <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ac2c59bf5641a72a14c1279e097106334">ca_compression_stack</a>-&gt;find(</div>
<div class="line"><a name="l05409"></a><span class="lineno"> 5409</span>&#160;                                                owc-&gt;getIntegrationCycle())-&gt;second,</div>
<div class="line"><a name="l05410"></a><span class="lineno"> 5410</span>&#160;                                        <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;par(</div>
<div class="line"><a name="l05411"></a><span class="lineno"> 5411</span>&#160;                                                <span class="stringliteral">&quot;faulty_synchronisatzation_masters&quot;</span>).longValue());</div>
<div class="line"><a name="l05412"></a><span class="lineno"> 5412</span>&#160;</div>
<div class="line"><a name="l05413"></a><span class="lineno"> 5413</span>&#160;                        <span class="keywordtype">int</span> compression_funktion_delay = <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;par(</div>
<div class="line"><a name="l05414"></a><span class="lineno"> 5414</span>&#160;                                <span class="stringliteral">&quot;calculation_overhead&quot;</span>).longValue()</div>
<div class="line"><a name="l05415"></a><span class="lineno"> 5415</span>&#160;                                + compression_correction;</div>
<div class="line"><a name="l05416"></a><span class="lineno"> 5416</span>&#160;</div>
<div class="line"><a name="l05417"></a><span class="lineno"> 5417</span>&#160;                        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> roundMember = <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a7ecff4894d30876be2c5a1fbfca8afeb">setBits</a>(</div>
<div class="line"><a name="l05418"></a><span class="lineno"> 5418</span>&#160;                                <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ac2c59bf5641a72a14c1279e097106334">ca_compression_stack</a>-&gt;find(</div>
<div class="line"><a name="l05419"></a><span class="lineno"> 5419</span>&#160;                                        owc-&gt;getIntegrationCycle())-&gt;second);</div>
<div class="line"><a name="l05420"></a><span class="lineno"> 5420</span>&#160;</div>
<div class="line"><a name="l05421"></a><span class="lineno"> 5421</span>&#160;                        CompressedPIT *cpit = <span class="keyword">new</span> CompressedPIT(<span class="stringliteral">&quot;CPCA&quot;</span>,</div>
<div class="line"><a name="l05422"></a><span class="lineno"> 5422</span>&#160;                                <a class="code" href="namespace_t_t_ethernet_model.html#a7d0551d60b68ae7bedfd5d3d30f8b499a6cb1ab49053a3b9d013a1fcf4896ac5c">TIMER_EVENT</a>);</div>
<div class="line"><a name="l05423"></a><span class="lineno"> 5423</span>&#160;                        cpit-&gt;setDestinationGate(<a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;gate(<span class="stringliteral">&quot;schedulerIn&quot;</span>));</div>
<div class="line"><a name="l05424"></a><span class="lineno"> 5424</span>&#160;                        cpit-&gt;setTimer(compression_funktion_delay);</div>
<div class="line"><a name="l05425"></a><span class="lineno"> 5425</span>&#160;                        cpit-&gt;setSchedulingPriority(3);</div>
<div class="line"><a name="l05426"></a><span class="lineno"> 5426</span>&#160;                        cpit-&gt;setMembership_new(roundMember);</div>
<div class="line"><a name="l05427"></a><span class="lineno"> 5427</span>&#160;                        <span class="keyword">delete</span> <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ac2c59bf5641a72a14c1279e097106334">ca_compression_stack</a>-&gt;find(</div>
<div class="line"><a name="l05428"></a><span class="lineno"> 5428</span>&#160;                                owc-&gt;getIntegrationCycle())-&gt;second;</div>
<div class="line"><a name="l05429"></a><span class="lineno"> 5429</span>&#160;                        <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ac2c59bf5641a72a14c1279e097106334">ca_compression_stack</a>-&gt;erase(owc-&gt;getIntegrationCycle());</div>
<div class="line"><a name="l05430"></a><span class="lineno"> 5430</span>&#160;</div>
<div class="line"><a name="l05431"></a><span class="lineno"> 5431</span>&#160;                        <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a55fa62fc0a7d2b9a752a73880415eea8">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#afc4a5062aeb6488f879e99df6cb35865" title="Register a new event in the scheduler.">registerEvent</a>(cpit);</div>
<div class="line"><a name="l05432"></a><span class="lineno"> 5432</span>&#160;</div>
<div class="line"><a name="l05433"></a><span class="lineno"> 5433</span>&#160;                        <span class="keyword">delete</span> owc;</div>
<div class="line"><a name="l05434"></a><span class="lineno"> 5434</span>&#160;                        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05435"></a><span class="lineno"> 5435</span>&#160;</div>
<div class="line"><a name="l05436"></a><span class="lineno"> 5436</span>&#160;                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05437"></a><span class="lineno"> 5437</span>&#160;                        ev</div>
<div class="line"><a name="l05438"></a><span class="lineno"> 5438</span>&#160;                                &lt;&lt; <span class="stringliteral">&quot;Compression Function SI_CM_UNSYNC: Error END OBSERVATION WINDOW:&quot;</span></div>
<div class="line"><a name="l05439"></a><span class="lineno"> 5439</span>&#160;                                &lt;&lt; owc-&gt;getNumberOfObservationWindow() &lt;&lt; endl;</div>
<div class="line"><a name="l05440"></a><span class="lineno"> 5440</span>&#160;                        ev &lt;&lt; <span class="stringliteral">&quot;MAX Observation Window: &quot;</span></div>
<div class="line"><a name="l05441"></a><span class="lineno"> 5441</span>&#160;                                &lt;&lt; <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;par(<span class="stringliteral">&quot;max_observation_window&quot;</span>).longValue()</div>
<div class="line"><a name="l05442"></a><span class="lineno"> 5442</span>&#160;                                &lt;&lt; endl;</div>
<div class="line"><a name="l05443"></a><span class="lineno"> 5443</span>&#160;                    }</div>
<div class="line"><a name="l05444"></a><span class="lineno"> 5444</span>&#160;</div>
<div class="line"><a name="l05445"></a><span class="lineno"> 5445</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (owc-&gt;getLastNumberOfFrames()</div>
<div class="line"><a name="l05446"></a><span class="lineno"> 5446</span>&#160;                        &lt; <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ac2c59bf5641a72a14c1279e097106334">ca_compression_stack</a>-&gt;find(owc-&gt;getIntegrationCycle())-&gt;second-&gt;size()) {</div>
<div class="line"><a name="l05447"></a><span class="lineno"> 5447</span>&#160;                    <span class="comment">//pcf became permanent during the last observation window, check max ow reached</span></div>
<div class="line"><a name="l05448"></a><span class="lineno"> 5448</span>&#160;                    <span class="keywordflow">if</span> (owc-&gt;getNumberOfObservationWindow()</div>
<div class="line"><a name="l05449"></a><span class="lineno"> 5449</span>&#160;                            &lt; (<span class="keywordtype">unsigned</span> int)<a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;par(<span class="stringliteral">&quot;max_observation_window&quot;</span>).longValue()) {</div>
<div class="line"><a name="l05450"></a><span class="lineno"> 5450</span>&#160;                        <span class="comment">//open another ow</span></div>
<div class="line"><a name="l05451"></a><span class="lineno"> 5451</span>&#160;                        <span class="keywordtype">int</span> new_ow = (owc-&gt;getNumberOfObservationWindow()) + 1;</div>
<div class="line"><a name="l05452"></a><span class="lineno"> 5452</span>&#160;                        <span class="keywordtype">int</span> new_number_frames = <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ac2c59bf5641a72a14c1279e097106334">ca_compression_stack</a>-&gt;find(</div>
<div class="line"><a name="l05453"></a><span class="lineno"> 5453</span>&#160;                                owc-&gt;getIntegrationCycle())-&gt;second-&gt;size();</div>
<div class="line"><a name="l05454"></a><span class="lineno"> 5454</span>&#160;</div>
<div class="line"><a name="l05455"></a><span class="lineno"> 5455</span>&#160;                        owc-&gt;setNumberOfObservationWindow(new_ow);</div>
<div class="line"><a name="l05456"></a><span class="lineno"> 5456</span>&#160;                        owc-&gt;setLastNumberOfFrames(new_number_frames);</div>
<div class="line"><a name="l05457"></a><span class="lineno"> 5457</span>&#160;</div>
<div class="line"><a name="l05458"></a><span class="lineno"> 5458</span>&#160;                        <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a55fa62fc0a7d2b9a752a73880415eea8">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#afc4a5062aeb6488f879e99df6cb35865" title="Register a new event in the scheduler.">registerEvent</a>(owc);</div>
<div class="line"><a name="l05459"></a><span class="lineno"> 5459</span>&#160;</div>
<div class="line"><a name="l05460"></a><span class="lineno"> 5460</span>&#160;                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (owc-&gt;getNumberOfObservationWindow()</div>
<div class="line"><a name="l05461"></a><span class="lineno"> 5461</span>&#160;                            == (<span class="keywordtype">unsigned</span> int)<a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;par(<span class="stringliteral">&quot;max_observation_window&quot;</span>).longValue()) {</div>
<div class="line"><a name="l05462"></a><span class="lineno"> 5462</span>&#160;                        <span class="comment">//max_ow_reached</span></div>
<div class="line"><a name="l05463"></a><span class="lineno"> 5463</span>&#160;                        <span class="comment">//stop collecting</span></div>
<div class="line"><a name="l05464"></a><span class="lineno"> 5464</span>&#160;                        <span class="comment">//calculate the compression_funktion_delay and register the event for compressed pit</span></div>
<div class="line"><a name="l05465"></a><span class="lineno"> 5465</span>&#160;</div>
<div class="line"><a name="l05466"></a><span class="lineno"> 5466</span>&#160;                        <span class="keywordtype">int</span> compression_correction =</div>
<div class="line"><a name="l05467"></a><span class="lineno"> 5467</span>&#160;                                <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a82348318432501edc630883241bfa3ae">compress</a>(</div>
<div class="line"><a name="l05468"></a><span class="lineno"> 5468</span>&#160;                                        <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ac2c59bf5641a72a14c1279e097106334">ca_compression_stack</a>-&gt;find(</div>
<div class="line"><a name="l05469"></a><span class="lineno"> 5469</span>&#160;                                                owc-&gt;getIntegrationCycle())-&gt;second,</div>
<div class="line"><a name="l05470"></a><span class="lineno"> 5470</span>&#160;                                        <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;par(</div>
<div class="line"><a name="l05471"></a><span class="lineno"> 5471</span>&#160;                                                <span class="stringliteral">&quot;faulty_synchronisatzation_masters&quot;</span>).longValue());</div>
<div class="line"><a name="l05472"></a><span class="lineno"> 5472</span>&#160;</div>
<div class="line"><a name="l05473"></a><span class="lineno"> 5473</span>&#160;                        <span class="keywordtype">int</span> compression_funktion_delay = <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;par(</div>
<div class="line"><a name="l05474"></a><span class="lineno"> 5474</span>&#160;                                <span class="stringliteral">&quot;calculation_overhead&quot;</span>).longValue()</div>
<div class="line"><a name="l05475"></a><span class="lineno"> 5475</span>&#160;                                + compression_correction;</div>
<div class="line"><a name="l05476"></a><span class="lineno"> 5476</span>&#160;</div>
<div class="line"><a name="l05477"></a><span class="lineno"> 5477</span>&#160;                        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> roundMember = <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a7ecff4894d30876be2c5a1fbfca8afeb">setBits</a>(</div>
<div class="line"><a name="l05478"></a><span class="lineno"> 5478</span>&#160;                                <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ac2c59bf5641a72a14c1279e097106334">ca_compression_stack</a>-&gt;find(</div>
<div class="line"><a name="l05479"></a><span class="lineno"> 5479</span>&#160;                                        owc-&gt;getIntegrationCycle())-&gt;second);</div>
<div class="line"><a name="l05480"></a><span class="lineno"> 5480</span>&#160;</div>
<div class="line"><a name="l05481"></a><span class="lineno"> 5481</span>&#160;                        CompressedPIT *cpit = <span class="keyword">new</span> CompressedPIT(<span class="stringliteral">&quot;CPCA&quot;</span>,</div>
<div class="line"><a name="l05482"></a><span class="lineno"> 5482</span>&#160;                                <a class="code" href="namespace_t_t_ethernet_model.html#a7d0551d60b68ae7bedfd5d3d30f8b499a6cb1ab49053a3b9d013a1fcf4896ac5c">TIMER_EVENT</a>);</div>
<div class="line"><a name="l05483"></a><span class="lineno"> 5483</span>&#160;                        cpit-&gt;setDestinationGate(<a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;gate(<span class="stringliteral">&quot;schedulerIn&quot;</span>));</div>
<div class="line"><a name="l05484"></a><span class="lineno"> 5484</span>&#160;                        cpit-&gt;setTimer(compression_funktion_delay);</div>
<div class="line"><a name="l05485"></a><span class="lineno"> 5485</span>&#160;                        cpit-&gt;setSchedulingPriority(3);</div>
<div class="line"><a name="l05486"></a><span class="lineno"> 5486</span>&#160;                        cpit-&gt;setMembership_new(roundMember);</div>
<div class="line"><a name="l05487"></a><span class="lineno"> 5487</span>&#160;</div>
<div class="line"><a name="l05488"></a><span class="lineno"> 5488</span>&#160;                        <span class="keyword">delete</span> <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ac2c59bf5641a72a14c1279e097106334">ca_compression_stack</a>-&gt;find(</div>
<div class="line"><a name="l05489"></a><span class="lineno"> 5489</span>&#160;                                owc-&gt;getIntegrationCycle())-&gt;second;</div>
<div class="line"><a name="l05490"></a><span class="lineno"> 5490</span>&#160;                        <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ac2c59bf5641a72a14c1279e097106334">ca_compression_stack</a>-&gt;erase(owc-&gt;getIntegrationCycle());</div>
<div class="line"><a name="l05491"></a><span class="lineno"> 5491</span>&#160;</div>
<div class="line"><a name="l05492"></a><span class="lineno"> 5492</span>&#160;                        <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a55fa62fc0a7d2b9a752a73880415eea8">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#afc4a5062aeb6488f879e99df6cb35865" title="Register a new event in the scheduler.">registerEvent</a>(cpit);</div>
<div class="line"><a name="l05493"></a><span class="lineno"> 5493</span>&#160;                        <span class="keyword">delete</span> owc;</div>
<div class="line"><a name="l05494"></a><span class="lineno"> 5494</span>&#160;                        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05495"></a><span class="lineno"> 5495</span>&#160;</div>
<div class="line"><a name="l05496"></a><span class="lineno"> 5496</span>&#160;                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05497"></a><span class="lineno"> 5497</span>&#160;                        ev</div>
<div class="line"><a name="l05498"></a><span class="lineno"> 5498</span>&#160;                                &lt;&lt; <span class="stringliteral">&quot;Compression Function SI_CM_UNSYNC: Error END OBSERVATION WINDOW:&quot;</span></div>
<div class="line"><a name="l05499"></a><span class="lineno"> 5499</span>&#160;                                &lt;&lt; owc-&gt;getNumberOfObservationWindow() &lt;&lt; endl;</div>
<div class="line"><a name="l05500"></a><span class="lineno"> 5500</span>&#160;                        ev &lt;&lt; <span class="stringliteral">&quot;MAX Observation Window: &quot;</span></div>
<div class="line"><a name="l05501"></a><span class="lineno"> 5501</span>&#160;                                &lt;&lt; <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;par(<span class="stringliteral">&quot;max_observation_window&quot;</span>).longValue()</div>
<div class="line"><a name="l05502"></a><span class="lineno"> 5502</span>&#160;                                &lt;&lt; endl;</div>
<div class="line"><a name="l05503"></a><span class="lineno"> 5503</span>&#160;</div>
<div class="line"><a name="l05504"></a><span class="lineno"> 5504</span>&#160;                    }</div>
<div class="line"><a name="l05505"></a><span class="lineno"> 5505</span>&#160;                    <span class="comment">//pcf became permanent during the last observation window, check max ow reached</span></div>
<div class="line"><a name="l05506"></a><span class="lineno"> 5506</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05507"></a><span class="lineno"> 5507</span>&#160;                    ev</div>
<div class="line"><a name="l05508"></a><span class="lineno"> 5508</span>&#160;                            &lt;&lt; <span class="stringliteral">&quot;Compression Function SI_CM_UNSYNC: Error owc-&gt;getLastNumberOfFrames() &gt; compression_stack-&gt;find(owc-&gt;getIntegrationCycle())-&gt;second-&gt;size()&quot;</span></div>
<div class="line"><a name="l05509"></a><span class="lineno"> 5509</span>&#160;                            &lt;&lt; owc-&gt;getNumberOfObservationWindow() &lt;&lt; endl;</div>
<div class="line"><a name="l05510"></a><span class="lineno"> 5510</span>&#160;                }</div>
<div class="line"><a name="l05511"></a><span class="lineno"> 5511</span>&#160;</div>
<div class="line"><a name="l05512"></a><span class="lineno"> 5512</span>&#160;            } <span class="comment">//compression Function witch matching integration cycle found</span></div>
<div class="line"><a name="l05513"></a><span class="lineno"> 5513</span>&#160;</div>
<div class="line"><a name="l05514"></a><span class="lineno"> 5514</span>&#160;        } <span class="comment">//OW</span></div>
<div class="line"><a name="l05515"></a><span class="lineno"> 5515</span>&#160;</div>
<div class="line"><a name="l05516"></a><span class="lineno"> 5516</span>&#160;    } <span class="comment">//schedulerIn</span></div>
<div class="line"><a name="l05517"></a><span class="lineno"> 5517</span>&#160;</div>
<div class="line"><a name="l05518"></a><span class="lineno"> 5518</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3168c5eb17ba7b347a7a12883e78ec24"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TTEthernetModel::SI_CM_UNSYNC::handleMessage </td>
          <td>(</td>
          <td class="paramtype">cMessage *&#160;</td>
          <td class="paramname"><em>message</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a2a9d2d417c26303ead099152daecf854">TTEthernetModel::SICMState</a>.</p>

<p>Definition at line <a class="el" href="_s_i_c_m_states_8cc_source.html#l01118">1118</a> of file <a class="el" href="_s_i_c_m_states_8cc_source.html">SICMStates.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;                                                  {</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;<span class="comment">//SI CM -</span></div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;<span class="comment">//relays CS in CM_UNSYNC</span></div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;<span class="comment">//relays CA with specified pcf_membership_new value</span></div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;    <span class="keywordflow">if</span> (message-&gt;arrivedOn(<span class="stringliteral">&quot;RCin&quot;</span>)) {</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;        <span class="comment">//ack to the buffer</span></div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;        RCBuffer *rcBuffer = <span class="keyword">dynamic_cast&lt;</span>RCBuffer*<span class="keyword">&gt;</span>(message-&gt;getSenderModule());</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;        <span class="keywordflow">if</span> (rcBuffer)</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;            rcBuffer-&gt;resetBag();</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;        <span class="comment">//CM make all PCF frames permanent before usage</span></div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;        PCFrame *pf = <span class="keyword">dynamic_cast&lt;</span>PCFrame *<span class="keyword">&gt;</span>(message);</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;        <span class="keywordflow">if</span> (pf-&gt;getSync_domain() == <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;par(<span class="stringliteral">&quot;syncDomain&quot;</span>).longValue()) {</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;            <span class="keywordflow">if</span> (pf-&gt;getSync_priority()</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;                    == <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;par(<span class="stringliteral">&quot;syncPriority&quot;</span>).longValue()) {</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;                <span class="keywordflow">if</span> ((<a class="code" href="_helper_functions_8cc.html#ab7aebf5462b19bd64206b5ab5ebb3392" title="Converts value in the transparent clock unit that is ns*0x10000 to ticks.">transparentClockToTicks</a>(pf-&gt;getTransparent_clock(),</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;                        <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a55fa62fc0a7d2b9a752a73880415eea8">tteScheduler</a>-&gt;par(<span class="stringliteral">&quot;tick&quot;</span>).doubleValue())</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;                        + (<a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a55fa62fc0a7d2b9a752a73880415eea8">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#ac0ad022871d9c70f81625755d7cdb77e" title="Returns the absolute number of ticks.">getTotalTicks</a>()</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;                                - pf-&gt;par(<span class="stringliteral">&quot;received_total&quot;</span>).longValue()))</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;                        &gt; (<span class="keywordtype">unsigned</span> int) (<a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;par(<span class="stringliteral">&quot;max_transmission_delay&quot;</span>).longValue())) {</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;                    ev</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;                            &lt;&lt; <span class="stringliteral">&quot;WARNING: SI_CM_UNSYNC: (pkt-&gt;getTransparent_clock()) &gt; max_transmission_delay &quot;</span></div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;                            &lt;&lt; pf-&gt;getCtID() &lt;&lt; endl;</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;                    ev &lt;&lt; <span class="stringliteral">&quot;WARNING: SI_CM_UNSYNC getTransparentClock:&quot;</span></div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;                            &lt;&lt; <a class="code" href="_helper_functions_8cc.html#ab7aebf5462b19bd64206b5ab5ebb3392" title="Converts value in the transparent clock unit that is ns*0x10000 to ticks.">transparentClockToTicks</a>(</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;                                    pf-&gt;getTransparent_clock(),</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;                                    <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a55fa62fc0a7d2b9a752a73880415eea8">tteScheduler</a>-&gt;par(<span class="stringliteral">&quot;tick&quot;</span>).doubleValue())</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;                            &lt;&lt; endl;</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;                }</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;                <span class="comment">//IN FRAME ?</span></div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;                <span class="keywordflow">if</span> (pf-&gt;getType() == <a class="code" href="namespace_t_t_ethernet_model.html#a1ee6d33b2f327407c3f27ead021da60eab602bf5217b511903f7288f628b0c77d">IN_FRAME</a>) {</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;                    <a class="code" href="class_t_t_ethernet_model_1_1_s_i___c_m___u_n_s_y_n_c.html#a7add9f3b6ad3044545e40f7157f6e471">compressionFunction</a>(message, this-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>);</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;                    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pf-&gt;getType() == <a class="code" href="namespace_t_t_ethernet_model.html#a1ee6d33b2f327407c3f27ead021da60ea62759934eee457fe52fb8b246c5aa540">CS_FRAME</a>) {</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;                    <span class="comment">//calculate permanence pit</span></div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;                    <span class="keywordtype">int</span> permanence_delay =</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;                            <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a322348e8045c3e8c824e94b09606f5a5">max_transmision_delay</a></div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;                                    - (<a class="code" href="_helper_functions_8cc.html#ab7aebf5462b19bd64206b5ab5ebb3392" title="Converts value in the transparent clock unit that is ns*0x10000 to ticks.">transparentClockToTicks</a>(</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;                                            pf-&gt;getTransparent_clock(),</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;                                            <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a55fa62fc0a7d2b9a752a73880415eea8">tteScheduler</a>-&gt;par(<span class="stringliteral">&quot;tick&quot;</span>).doubleValue())</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;                                            + (<a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a55fa62fc0a7d2b9a752a73880415eea8">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#ac0ad022871d9c70f81625755d7cdb77e" title="Returns the absolute number of ticks.">getTotalTicks</a>()</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;                                                    - pf-&gt;par(<span class="stringliteral">&quot;received_total&quot;</span>).longValue()));</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;                    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> member = pf-&gt;getMembership_new();</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;                    FrameEvent *f_event = <span class="keyword">new</span> FrameEvent(<span class="stringliteral">&quot;CS_FRAME&quot;</span>,</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;                            <a class="code" href="namespace_t_t_ethernet_model.html#a7d0551d60b68ae7bedfd5d3d30f8b499a6cb1ab49053a3b9d013a1fcf4896ac5c">TIMER_EVENT</a>);</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;                    f_event-&gt;setIntegrationCycle(pf-&gt;getIntegration_cycle());</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;                    f_event-&gt;setMember(member);</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;                    f_event-&gt;setPcfType(pf-&gt;getType());</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;                    f_event-&gt;setTimer(permanence_delay);</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;                    f_event-&gt;setDestinationGate(<a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;gate(<span class="stringliteral">&quot;schedulerIn&quot;</span>));</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;                    <span class="keywordflow">if</span> (pf-&gt;getType() == <a class="code" href="namespace_t_t_ethernet_model.html#a1ee6d33b2f327407c3f27ead021da60ea62759934eee457fe52fb8b246c5aa540">CS_FRAME</a>) {</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;                        f_event-&gt;setSchedulingPriority(0);</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;                        ev &lt;&lt; <span class="stringliteral">&quot;ERROR: expect a CS FRAME ! TYPE: &quot;</span></div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;                                &lt;&lt; pf-&gt;getType() &lt;&lt; endl;</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;                    }</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;                    <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a55fa62fc0a7d2b9a752a73880415eea8">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#afc4a5062aeb6488f879e99df6cb35865" title="Register a new event in the scheduler.">registerEvent</a>(f_event);</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;                    <span class="keyword">delete</span> pf;</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;                    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pf-&gt;getType() == <a class="code" href="namespace_t_t_ethernet_model.html#a1ee6d33b2f327407c3f27ead021da60eac869b30499d7d077b91e09fa29d87108">CA_FRAME</a>) {</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;                    <a class="code" href="class_t_t_ethernet_model_1_1_s_i___c_m___u_n_s_y_n_c.html#a00ad78b5518ddb8df849c1719c71e454">compressionFunctionCA</a>(message, this-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>);</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;                    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;                    ev &lt;&lt; <span class="stringliteral">&quot;DEBUG: Error: SI_CM_UNSYNC UNKNOWN PCF TYPE &quot;</span> &lt;&lt; (int)pf-&gt;getType()</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;                            &lt;&lt; endl;</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;                    <span class="keyword">delete</span> pf;</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;                }</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;            } <span class="comment">//sync_priority</span></div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;        } <span class="comment">//sync_domain</span></div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;    }</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;    <span class="keywordflow">if</span> (message-&gt;arrivedOn(<span class="stringliteral">&quot;schedulerIn&quot;</span>)) {</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;        <span class="keywordflow">if</span> ((<span class="keywordtype">string</span>(message-&gt;getName()).compare(<span class="stringliteral">&quot;OW&quot;</span>) == 0)</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;                || (<span class="keywordtype">string</span>(message-&gt;getName()).compare(<span class="stringliteral">&quot;IN_FRAME&quot;</span>) == 0)) {</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;            <a class="code" href="class_t_t_ethernet_model_1_1_s_i___c_m___u_n_s_y_n_c.html#a7add9f3b6ad3044545e40f7157f6e471">compressionFunction</a>(message, this-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>);</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;        }</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;        <span class="keywordflow">if</span> ((<span class="keywordtype">string</span>(message-&gt;getName()).compare(<span class="stringliteral">&quot;OW_CA&quot;</span>) == 0)</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;                || (<span class="keywordtype">string</span>(message-&gt;getName()).compare(<span class="stringliteral">&quot;CA_FRAME&quot;</span>) == 0)) {</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;            <a class="code" href="class_t_t_ethernet_model_1_1_s_i___c_m___u_n_s_y_n_c.html#a00ad78b5518ddb8df849c1719c71e454">compressionFunctionCA</a>(message, this-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>);</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;        }</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;        <span class="keywordflow">if</span> (<span class="keywordtype">string</span>(message-&gt;getName()).compare(<span class="stringliteral">&quot;CP&quot;</span>) == 0) {</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;            CompressedPIT *cp = <span class="keyword">dynamic_cast&lt;</span>CompressedPIT *<span class="keyword">&gt;</span>(message);</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;            <span class="keywordtype">int</span> currentTime = <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a55fa62fc0a7d2b9a752a73880415eea8">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#a6831234789320df881e83389f49cd773" title="Returns the current number of ticks.">getTicks</a>();</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;            <span class="comment">//local_clock = cm_sceduled_receive_pit</span></div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;            <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a55fa62fc0a7d2b9a752a73880415eea8">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#a47d1fbcf833c7f8d6627277a4b8525b3" title="Corrects the clock by the number of ticks.">clockCorrection</a>(</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;                    currentTime - <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;par(<span class="stringliteral">&quot;cm_scheduled_pit&quot;</span>).longValue());</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;            <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a797dab473665ad86ebd06c1a4fea9922">local_integration_cycle</a> = cp-&gt;getIntegrationCycle();</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;            <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a494bb5882782b7901d1a0669f93bd51d">local_sync_membership</a> = cp-&gt;getMembership_new();</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a8f7754347eeb6ddf884ed2efe4b21193">getValue</a>(<a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a494bb5882782b7901d1a0669f93bd51d">local_sync_membership</a>, 32)</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;                    &gt;= <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;par(<span class="stringliteral">&quot;cm_unsync_to_sync_thrld&quot;</span>).longValue()) {</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;                PCFrame *compressedFrame = <span class="keyword">new</span> PCFrame(<span class="stringliteral">&quot;IN_FRAME&quot;</span>);</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;                compressedFrame-&gt;setCtID(0);</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;                compressedFrame-&gt;setCtMarker(0);</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;                compressedFrame-&gt;setType(<a class="code" href="namespace_t_t_ethernet_model.html#a1ee6d33b2f327407c3f27ead021da60eab602bf5217b511903f7288f628b0c77d">IN_FRAME</a>);</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;                compressedFrame-&gt;setTransparent_clock(0);</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;                compressedFrame-&gt;setMembership_new(cp-&gt;getMembership_new());</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;                compressedFrame-&gt;setSync_domain(</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;                        <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;par(<span class="stringliteral">&quot;syncDomain&quot;</span>).longValue());</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;                compressedFrame-&gt;setSync_priority(</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;                        <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;par(<span class="stringliteral">&quot;syncPriority&quot;</span>).longValue());</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;                compressedFrame-&gt;setByteLength(46 + ETHER_MAC_FRAME_BYTES);</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;                compressedFrame-&gt;setIntegration_cycle(</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;                        cp-&gt;getIntegrationCycle());</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;                <span class="comment">//Padding</span></div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;                <span class="keywordflow">if</span> (compressedFrame-&gt;getByteLength()</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;                        &lt; <a class="code" href="_t_t_e4_i_n_e_t_defs_8h.html#af1aeba82bae190f10e219e04546e8cb7" title="Maintain backwards compatibility MIN_ETHERNET_FRAME changed to MIN_ETHERNET_FRAME_BYTES from 1...">MIN_ETHERNET_FRAME_BYTES</a>) {</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;                    compressedFrame-&gt;setByteLength(<a class="code" href="_t_t_e4_i_n_e_t_defs_8h.html#af1aeba82bae190f10e219e04546e8cb7" title="Maintain backwards compatibility MIN_ETHERNET_FRAME changed to MIN_ETHERNET_FRAME_BYTES from 1...">MIN_ETHERNET_FRAME_BYTES</a>);</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;                }</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;                compressedFrame-&gt;setDisplayString(<span class="stringliteral">&quot;b=15,15,rect,white,red,5&quot;</span>);</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ae69cb1c6847a82534bd23344674160bd">compressed_frames</a>-&gt;push_front(</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;                        pair&lt;unsigned int, PCFrame *&gt;(cp-&gt;getMembership_new(),</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;                                compressedFrame-&gt;dup()));</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a494bb5882782b7901d1a0669f93bd51d">local_sync_membership</a> = cp-&gt;getMembership_new();</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a797dab473665ad86ebd06c1a4fea9922">local_integration_cycle</a> = cp-&gt;getIntegrationCycle();</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a128cafc0ef67e4720fc52ef59814b24d">local_async_membership</a> = 0;</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ab83df7f4d895dcccca1e8fa83091310a">local_async_membership_r</a> = 0;</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a06fa8c5368f3bc741cc8d3cd52b2c050">local_async_membership_f</a> = 0;</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;                DispatchDelay *dd = <span class="keyword">new</span> DispatchDelay(<span class="stringliteral">&quot;DP&quot;</span>, <a class="code" href="namespace_t_t_ethernet_model.html#a7d0551d60b68ae7bedfd5d3d30f8b499a6cb1ab49053a3b9d013a1fcf4896ac5c">TIMER_EVENT</a>);</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;                dd-&gt;setDestinationGate(<a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;gate(<span class="stringliteral">&quot;schedulerIn&quot;</span>));</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;                dd-&gt;setMembership_new(cp-&gt;getMembership_new());</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;                dd-&gt;setTimer(<a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;par(<span class="stringliteral">&quot;dispatch_delay&quot;</span>).longValue());</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;                dd-&gt;setSchedulingPriority(3);</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a55fa62fc0a7d2b9a752a73880415eea8">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#afc4a5062aeb6488f879e99df6cb35865" title="Register a new event in the scheduler.">registerEvent</a>(dd);</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#aad5f51bb236da36fa60c57ce95b5a11a">dispatch_delay_container</a>-&gt;push_front(dd);</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> member = cp-&gt;getMembership_new();</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> compressedPit = <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a55fa62fc0a7d2b9a752a73880415eea8">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#a6831234789320df881e83389f49cd773" title="Returns the current number of ticks.">getTicks</a>();</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ae8fa37fe71191a3986acaf7f98cc5fbc">clock_stack</a>-&gt;push_front(</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;                        pair&lt;unsigned int, unsigned int&gt;(member,</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;                                compressedPit));</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a55fa62fc0a7d2b9a752a73880415eea8">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#afc4a5062aeb6488f879e99df6cb35865" title="Register a new event in the scheduler.">registerEvent</a>(<a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#aaff56c1d3261b9eda101fe818621912e">event2</a>);</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a55fa62fc0a7d2b9a752a73880415eea8">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#afc4a5062aeb6488f879e99df6cb35865" title="Register a new event in the scheduler.">registerEvent</a>(<a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ad25ef73f6639daf11e8be2d9c8b639c7">event4</a>);</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a55fa62fc0a7d2b9a752a73880415eea8">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#afc4a5062aeb6488f879e99df6cb35865" title="Register a new event in the scheduler.">registerEvent</a>(<a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a3393c1f1ebd76f7db652b02d661843f5">event5</a>);</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;                <span class="keyword">delete</span> cp;</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;                <span class="keyword">new</span> (<span class="keyword">this</span>) SI_CM_SYNC();</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;            }</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;            <span class="keyword">delete</span> cp;</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;        } <span class="comment">//compressed IN_FRAME</span></div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;        <span class="keywordflow">if</span> (<span class="keywordtype">string</span>(message-&gt;getName()).compare(<span class="stringliteral">&quot;DP&quot;</span>) == 0) {</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;            DispatchDelay *dd = <span class="keyword">dynamic_cast&lt;</span>DispatchDelay *<span class="keyword">&gt;</span>(message);</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;            <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ae69cb1c6847a82534bd23344674160bd">compressed_frames</a>-&gt;front().second-&gt;setCtID(0);</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;            cMsgPar *par = &amp;<a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ae69cb1c6847a82534bd23344674160bd">compressed_frames</a>-&gt;front().second-&gt;addPar(</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;                    <span class="stringliteral">&quot;created_total&quot;</span>);</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;            par-&gt;setLongValue(<a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a55fa62fc0a7d2b9a752a73880415eea8">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#ac0ad022871d9c70f81625755d7cdb77e" title="Returns the absolute number of ticks.">getTotalTicks</a>());</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;            <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;sendDirect(</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;                    <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ae69cb1c6847a82534bd23344674160bd">compressed_frames</a>-&gt;front().second-&gt;dup(),</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;                    <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;getParentModule()-&gt;getSubmodule(<span class="stringliteral">&quot;pcf_out&quot;</span>, 0)-&gt;gate(</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;                            <span class="stringliteral">&quot;in&quot;</span>));</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;            <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;sendDirect(</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;                    <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ae69cb1c6847a82534bd23344674160bd">compressed_frames</a>-&gt;front().second-&gt;dup(),</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;                    <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;getParentModule()-&gt;getSubmodule(<span class="stringliteral">&quot;pcf_out&quot;</span>, 1)-&gt;gate(</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;                            <span class="stringliteral">&quot;in&quot;</span>));</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;            <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;sendDirect(</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;                    <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ae69cb1c6847a82534bd23344674160bd">compressed_frames</a>-&gt;front().second-&gt;dup(),</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;                    <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;getParentModule()-&gt;getSubmodule(<span class="stringliteral">&quot;pcf_out&quot;</span>, 2)-&gt;gate(</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;                            <span class="stringliteral">&quot;in&quot;</span>));</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;            <span class="keyword">delete</span> <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ae69cb1c6847a82534bd23344674160bd">compressed_frames</a>-&gt;front().second;</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;            <span class="keyword">delete</span> <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ae69cb1c6847a82534bd23344674160bd">compressed_frames</a>-&gt;front().second;</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;            <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ae69cb1c6847a82534bd23344674160bd">compressed_frames</a>-&gt;clear();</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;            <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#aad5f51bb236da36fa60c57ce95b5a11a">dispatch_delay_container</a>-&gt;pop_front();</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;            <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#aad5f51bb236da36fa60c57ce95b5a11a">dispatch_delay_container</a>-&gt;clear();</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;            <span class="keyword">delete</span> dd;</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;        } <span class="comment">//dispatch point in time</span></div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;        <span class="keywordflow">if</span> (<span class="keywordtype">string</span>(message-&gt;getName()).compare(<span class="stringliteral">&quot;CS_FRAME&quot;</span>) == 0) {</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;            FrameEvent *et = <span class="keyword">dynamic_cast&lt;</span>FrameEvent *<span class="keyword">&gt;</span>(message);</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;            <span class="keywordflow">if</span> (et-&gt;getPcfType() == <a class="code" href="namespace_t_t_ethernet_model.html#a1ee6d33b2f327407c3f27ead021da60ea62759934eee457fe52fb8b246c5aa540">CS_FRAME</a>) {</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;                PCFrame *frame = <span class="keyword">new</span> PCFrame(<span class="stringliteral">&quot;CS_Frame&quot;</span>);</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;                cMsgPar *par = &amp;frame-&gt;addPar(<span class="stringliteral">&quot;created_total&quot;</span>);</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;                par-&gt;setLongValue(<a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a55fa62fc0a7d2b9a752a73880415eea8">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#ac0ad022871d9c70f81625755d7cdb77e" title="Returns the absolute number of ticks.">getTotalTicks</a>());</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;                frame-&gt;setSync_domain(<a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;par(<span class="stringliteral">&quot;syncDomain&quot;</span>).longValue());</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;                frame-&gt;setSync_priority(<a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;par(<span class="stringliteral">&quot;syncPriority&quot;</span>).longValue());</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;                frame-&gt;setIntegration_cycle(et-&gt;getIntegrationCycle());</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;                frame-&gt;setMembership_new(et-&gt;getMember());</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;                frame-&gt;setTransparent_clock(0);</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;                frame-&gt;setCtMarker(0);</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;                frame-&gt;setCtID(0);</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;                frame-&gt;setType(<a class="code" href="namespace_t_t_ethernet_model.html#a1ee6d33b2f327407c3f27ead021da60ea62759934eee457fe52fb8b246c5aa540">CS_FRAME</a>);</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;                frame-&gt;setByteLength(46 + ETHER_MAC_FRAME_BYTES);</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;                <span class="comment">//Padding</span></div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;                <span class="keywordflow">if</span> (frame-&gt;getByteLength() &lt; <a class="code" href="_t_t_e4_i_n_e_t_defs_8h.html#af1aeba82bae190f10e219e04546e8cb7" title="Maintain backwards compatibility MIN_ETHERNET_FRAME changed to MIN_ETHERNET_FRAME_BYTES from 1...">MIN_ETHERNET_FRAME_BYTES</a>) {</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;                    frame-&gt;setByteLength(<a class="code" href="_t_t_e4_i_n_e_t_defs_8h.html#af1aeba82bae190f10e219e04546e8cb7" title="Maintain backwards compatibility MIN_ETHERNET_FRAME changed to MIN_ETHERNET_FRAME_BYTES from 1...">MIN_ETHERNET_FRAME_BYTES</a>);</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;                }</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;                frame-&gt;setDisplayString(<span class="stringliteral">&quot;b=15,15,rect,white,black,5&quot;</span>);</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;sendDirect(</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;                        frame-&gt;dup(),</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;                        <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;getParentModule()-&gt;getSubmodule(<span class="stringliteral">&quot;pcf_out&quot;</span>, 0)-&gt;gate(</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;                                <span class="stringliteral">&quot;in&quot;</span>));</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;sendDirect(</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;                        frame-&gt;dup(),</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;                        <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;getParentModule()-&gt;getSubmodule(<span class="stringliteral">&quot;pcf_out&quot;</span>, 1)-&gt;gate(</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;                                <span class="stringliteral">&quot;in&quot;</span>));</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;sendDirect(</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;                        frame-&gt;dup(),</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;                        <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;getParentModule()-&gt;getSubmodule(<span class="stringliteral">&quot;pcf_out&quot;</span>, 2)-&gt;gate(</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;                                <span class="stringliteral">&quot;in&quot;</span>));</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a1476d915916d951acfa23744886ab522">duration</a> = <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;par(<span class="stringliteral">&quot;cm_ca_enabled_timeout&quot;</span>).longValue();</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;                <span class="keyword">event</span>-&gt;setTimer(<a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a1476d915916d951acfa23744886ab522">duration</a>);</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;                <span class="comment">//local_clock=0</span></div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a55fa62fc0a7d2b9a752a73880415eea8">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#a47d1fbcf833c7f8d6627277a4b8525b3" title="Corrects the clock by the number of ticks.">clockCorrection</a>(<a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a55fa62fc0a7d2b9a752a73880415eea8">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#a6831234789320df881e83389f49cd773" title="Returns the current number of ticks.">getTicks</a>());</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a797dab473665ad86ebd06c1a4fea9922">local_integration_cycle</a> = 0;</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a494bb5882782b7901d1a0669f93bd51d">local_sync_membership</a> = 0;</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a128cafc0ef67e4720fc52ef59814b24d">local_async_membership</a> = 0;</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ab83df7f4d895dcccca1e8fa83091310a">local_async_membership_r</a> = 0;</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a06fa8c5368f3bc741cc8d3cd52b2c050">local_async_membership_f</a> = 0;</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;                <span class="keyword">delete</span> frame;</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;                <span class="keyword">delete</span> et;</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;                <span class="keyword">new</span> (<span class="keyword">this</span>) SI_CM_ENABLED();</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;            }</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;        } <span class="comment">//CS FRAME</span></div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;        <span class="keywordflow">if</span> (<span class="keywordtype">string</span>(message-&gt;getName()).compare(<span class="stringliteral">&quot;CPCA&quot;</span>) == 0) {</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;            CompressedPIT *cp = <span class="keyword">dynamic_cast&lt;</span>CompressedPIT *<span class="keyword">&gt;</span>(message);</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a8f7754347eeb6ddf884ed2efe4b21193">getValue</a>(cp-&gt;getMembership_new(), 32)</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;                    &gt; <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;par(<span class="stringliteral">&quot;cm_sync_threshold_sync&quot;</span>).longValue()) {</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a1476d915916d951acfa23744886ab522">duration</a> = <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;par(<span class="stringliteral">&quot;cm_ca_enabled_timeout&quot;</span>).longValue();</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;                <span class="keyword">event</span>-&gt;setTimer(<a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a1476d915916d951acfa23744886ab522">duration</a>);</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;                <span class="comment">//local_clock=0</span></div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a55fa62fc0a7d2b9a752a73880415eea8">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#a47d1fbcf833c7f8d6627277a4b8525b3" title="Corrects the clock by the number of ticks.">clockCorrection</a>(<a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a55fa62fc0a7d2b9a752a73880415eea8">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#a6831234789320df881e83389f49cd773" title="Returns the current number of ticks.">getTicks</a>());</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a797dab473665ad86ebd06c1a4fea9922">local_integration_cycle</a> = 0;</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a494bb5882782b7901d1a0669f93bd51d">local_sync_membership</a> = 0;</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a128cafc0ef67e4720fc52ef59814b24d">local_async_membership</a> = 0;</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#ab83df7f4d895dcccca1e8fa83091310a">local_async_membership_r</a> = 0;</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a06fa8c5368f3bc741cc8d3cd52b2c050">local_async_membership_f</a> = 0;</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;                <span class="comment">//create the new frame</span></div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;                PCFrame *compressedFrame = <span class="keyword">new</span> PCFrame(<span class="stringliteral">&quot;CA_FRAME&quot;</span>);</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;                compressedFrame-&gt;setCtID(0);</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;                compressedFrame-&gt;setCtMarker(0);</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;                compressedFrame-&gt;setType(<a class="code" href="namespace_t_t_ethernet_model.html#a1ee6d33b2f327407c3f27ead021da60eac869b30499d7d077b91e09fa29d87108">CA_FRAME</a>);</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;                compressedFrame-&gt;setTransparent_clock(0);</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;                compressedFrame-&gt;setMembership_new(cp-&gt;getMembership_new());</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;                compressedFrame-&gt;setSync_domain(</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;                        <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;par(<span class="stringliteral">&quot;syncDomain&quot;</span>).longValue());</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;                compressedFrame-&gt;setSync_priority(</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;                        <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;par(<span class="stringliteral">&quot;syncPriority&quot;</span>).longValue());</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;                compressedFrame-&gt;setByteLength(46 + ETHER_MAC_FRAME_BYTES);</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;                compressedFrame-&gt;setIntegration_cycle(<a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a797dab473665ad86ebd06c1a4fea9922">local_integration_cycle</a>);</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;                <span class="comment">//Padding</span></div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;                <span class="keywordflow">if</span> (compressedFrame-&gt;getByteLength()</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;                        &lt; <a class="code" href="_t_t_e4_i_n_e_t_defs_8h.html#af1aeba82bae190f10e219e04546e8cb7" title="Maintain backwards compatibility MIN_ETHERNET_FRAME changed to MIN_ETHERNET_FRAME_BYTES from 1...">MIN_ETHERNET_FRAME_BYTES</a>) {</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;                    compressedFrame-&gt;setByteLength(<a class="code" href="_t_t_e4_i_n_e_t_defs_8h.html#af1aeba82bae190f10e219e04546e8cb7" title="Maintain backwards compatibility MIN_ETHERNET_FRAME changed to MIN_ETHERNET_FRAME_BYTES from 1...">MIN_ETHERNET_FRAME_BYTES</a>);</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;                }</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;                compressedFrame-&gt;setDisplayString(<span class="stringliteral">&quot;b=15,15,rect,white,red,5&quot;</span>);</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abd434816cb46165a346d9524d6c1937d">caCompressedFrames</a>-&gt;insert(</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;                        pair&lt;unsigned int, PCFrame *&gt;(cp-&gt;getMembership_new(),</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;                                compressedFrame));</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;                DispatchDelay *dd = <span class="keyword">new</span> DispatchDelay(<span class="stringliteral">&quot;DPCA&quot;</span>, <a class="code" href="namespace_t_t_ethernet_model.html#a7d0551d60b68ae7bedfd5d3d30f8b499a6cb1ab49053a3b9d013a1fcf4896ac5c">TIMER_EVENT</a>);</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;                dd-&gt;setDestinationGate(<a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;gate(<span class="stringliteral">&quot;schedulerIn&quot;</span>));</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;                dd-&gt;setMembership_new(cp-&gt;getMembership_new());</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;                dd-&gt;setTimer(<a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abb5b492128ccfcc9d539369acdbc0a08">sicm</a>-&gt;par(<span class="stringliteral">&quot;dispatch_delay&quot;</span>).longValue());</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;                dd-&gt;setSchedulingPriority(3);</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#a55fa62fc0a7d2b9a752a73880415eea8">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#afc4a5062aeb6488f879e99df6cb35865" title="Register a new event in the scheduler.">registerEvent</a>(dd);</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;                <span class="keyword">delete</span> cp;</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;                <span class="keyword">new</span> (<span class="keyword">this</span>) SI_CM_ENABLED();</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;            }</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;            <span class="keyword">delete</span> cp;</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;        }</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;        <span class="keywordflow">if</span> (<span class="keywordtype">string</span>(message-&gt;getName()).compare(<span class="stringliteral">&quot;DPCA&quot;</span>) == 0) {</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;            DispatchDelay *dp = <span class="keyword">dynamic_cast&lt;</span>DispatchDelay *<span class="keyword">&gt;</span>(message);</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> roundMember = dp-&gt;getMembership_new();</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abd434816cb46165a346d9524d6c1937d">caCompressedFrames</a>-&gt;find(roundMember)</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;                    != <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abd434816cb46165a346d9524d6c1937d">caCompressedFrames</a>-&gt;end()) {</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;                <span class="keyword">delete</span> <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abd434816cb46165a346d9524d6c1937d">caCompressedFrames</a>-&gt;find(roundMember)-&gt;second;</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_i_c_m_state.html#abd434816cb46165a346d9524d6c1937d">caCompressedFrames</a>-&gt;erase(roundMember);</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;                ev</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;Compression Function: Compressed Frame not found:round member:&quot;</span></div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;                        &lt;&lt; roundMember &lt;&lt; endl;</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;            }</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;            <span class="keyword">delete</span> dp;</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;        }</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;    } <span class="comment">//schedulerIn</span></div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_s_i_c_m_states_8h_source.html">SICMStates.h</a></li>
<li><a class="el" href="_s_i_c_m_states_8cc_source.html">SICMStates.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespace_t_t_ethernet_model.html">TTEthernetModel</a></li><li class="navelem"><a class="el" href="class_t_t_ethernet_model_1_1_s_i___c_m___u_n_s_y_n_c.html">SI_CM_UNSYNC</a></li>
    <li class="footer">Generated on Wed Jun 19 2013 14:34:27 for TTEthernet Model for INET Framework by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.3.1 </li>
  </ul>
</div>
</body>
</html>
