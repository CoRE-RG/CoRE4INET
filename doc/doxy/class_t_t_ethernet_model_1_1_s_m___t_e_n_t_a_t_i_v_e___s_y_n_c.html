<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>TTEthernet Model for INET Framework: TTEthernetModel::SM_TENTATIVE_SYNC Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">TTEthernet Model for INET Framework
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_t_t_ethernet_model_1_1_s_m___t_e_n_t_a_t_i_v_e___s_y_n_c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_t_t_ethernet_model_1_1_s_m___t_e_n_t_a_t_i_v_e___s_y_n_c-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">TTEthernetModel::SM_TENTATIVE_SYNC Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="_s_m_states_8h_source.html">SMStates.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for TTEthernetModel::SM_TENTATIVE_SYNC:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_t_t_ethernet_model_1_1_s_m___t_e_n_t_a_t_i_v_e___s_y_n_c.png" usemap="#TTEthernetModel::SM_TENTATIVE_SYNC_map" alt=""/>
  <map id="TTEthernetModel::SM_TENTATIVE_SYNC_map" name="TTEthernetModel::SM_TENTATIVE_SYNC_map">
<area href="class_t_t_ethernet_model_1_1_s_m_state.html" alt="TTEthernetModel::SMState" shape="rect" coords="0,0,249,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a928faae69391aba8931d40739e629fc2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_m___t_e_n_t_a_t_i_v_e___s_y_n_c.html#a928faae69391aba8931d40739e629fc2">SM_TENTATIVE_SYNC</a> ()</td></tr>
<tr class="separator:a928faae69391aba8931d40739e629fc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adac9cca3c562e02001ef678e735711f8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_m___t_e_n_t_a_t_i_v_e___s_y_n_c.html#adac9cca3c562e02001ef678e735711f8">handleMessage</a> (cMessage *message)</td></tr>
<tr class="separator:adac9cca3c562e02001ef678e735711f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_t_t_ethernet_model_1_1_s_m_state"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_t_t_ethernet_model_1_1_s_m_state')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_t_t_ethernet_model_1_1_s_m_state.html">TTEthernetModel::SMState</a></td></tr>
<tr class="memitem:a072676d1f925e0ee6cad2a7e987b3df7 inherit pub_methods_class_t_t_ethernet_model_1_1_s_m_state"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_m_state.html#a072676d1f925e0ee6cad2a7e987b3df7">~SMState</a> ()</td></tr>
<tr class="separator:a072676d1f925e0ee6cad2a7e987b3df7 inherit pub_methods_class_t_t_ethernet_model_1_1_s_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba24737a1fe176766bf2daf00909ce25 inherit pub_methods_class_t_t_ethernet_model_1_1_s_m_state"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_m_state.html#aba24737a1fe176766bf2daf00909ce25">getValue</a> (uint32_t bitVector, uint32_t length)</td></tr>
<tr class="separator:aba24737a1fe176766bf2daf00909ce25 inherit pub_methods_class_t_t_ethernet_model_1_1_s_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6064207d1cacb649c2d3f418510dca6 inherit pub_methods_class_t_t_ethernet_model_1_1_s_m_state"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_m_state.html#ac6064207d1cacb649c2d3f418510dca6">inSchedule</a> (uint64_t permanence_pit, uint64_t sc_receive_pit, uint64_t acceptance_window)</td></tr>
<tr class="separator:ac6064207d1cacb649c2d3f418510dca6 inherit pub_methods_class_t_t_ethernet_model_1_1_s_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td colspan="2" onclick="javascript:toggleInherit('pub_attribs_class_t_t_ethernet_model_1_1_s_m_state')"><img src="closed.png" alt="-"/>&#160;Public Attributes inherited from <a class="el" href="class_t_t_ethernet_model_1_1_s_m_state.html">TTEthernetModel::SMState</a></td></tr>
<tr class="memitem:ad9cc85756ac3e7fd1e365e86bc6fd448 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memItemLeft" align="right" valign="top">cOutVector *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_m_state.html#ad9cc85756ac3e7fd1e365e86bc6fd448">outVector</a></td></tr>
<tr class="separator:ad9cc85756ac3e7fd1e365e86bc6fd448 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6784f39e31222902378c42922ea3ec70 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_t_ethernet_model_1_1_s_m.html">SM</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_m_state.html#a6784f39e31222902378c42922ea3ec70">sm</a></td></tr>
<tr class="separator:a6784f39e31222902378c42922ea3ec70 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae96fe043422d3523db8961df0401f513 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memItemLeft" align="right" valign="top">FILE *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_m_state.html#ae96fe043422d3523db8961df0401f513">fp</a></td></tr>
<tr class="separator:ae96fe043422d3523db8961df0401f513 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9a9a01c0644a50fc46b0ffe397bf8a7 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memItemLeft" align="right" valign="top">vector&lt; int &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_m_state.html#ac9a9a01c0644a50fc46b0ffe397bf8a7">values</a></td></tr>
<tr class="separator:ac9a9a01c0644a50fc46b0ffe397bf8a7 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa22a5760a5c84002ad319fe6448cdd93 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memItemLeft" align="right" valign="top">vector&lt; int &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_m_state.html#aa22a5760a5c84002ad319fe6448cdd93">knownCMs</a></td></tr>
<tr class="separator:aa22a5760a5c84002ad319fe6448cdd93 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0d8013a806840964b789a3ca504add1 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_m_state.html#ac0d8013a806840964b789a3ca504add1">CMs</a></td></tr>
<tr class="separator:ac0d8013a806840964b789a3ca504add1 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af43084b70e626e9a13ab682dd6cb5a96 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memItemLeft" align="right" valign="top">cStringTokenizer *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_m_state.html#af43084b70e626e9a13ab682dd6cb5a96">tokenizer</a></td></tr>
<tr class="separator:af43084b70e626e9a13ab682dd6cb5a96 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6de6a9b61bd36eb3421278980ed4a8ab inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_m_state.html#a6de6a9b61bd36eb3421278980ed4a8ab">temp</a></td></tr>
<tr class="separator:a6de6a9b61bd36eb3421278980ed4a8ab inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f9b38505c3946d90af7e4695c5e7aea inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_m_state.html#a2f9b38505c3946d90af7e4695c5e7aea">counter</a></td></tr>
<tr class="separator:a2f9b38505c3946d90af7e4695c5e7aea inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a533fb10ce9ee2e8ac5187e3b5ac7f008 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_m_state.html#a533fb10ce9ee2e8ac5187e3b5ac7f008">dummy</a></td></tr>
<tr class="separator:a533fb10ce9ee2e8ac5187e3b5ac7f008 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e77ee93ed08628078b3782b6672b6f1 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_m_state.html#a4e77ee93ed08628078b3782b6672b6f1">data</a></td></tr>
<tr class="separator:a4e77ee93ed08628078b3782b6672b6f1 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3d7ec305c2bb5dbc1c1bdee596b5918 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_m_state.html#aa3d7ec305c2bb5dbc1c1bdee596b5918">local_timer</a></td></tr>
<tr class="separator:aa3d7ec305c2bb5dbc1c1bdee596b5918 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d7855bf6363c98319dbdc9f49faf142 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_m_state.html#a7d7855bf6363c98319dbdc9f49faf142">flood_receive</a></td></tr>
<tr class="separator:a7d7855bf6363c98319dbdc9f49faf142 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a3e8291331eca123479ffe443f68e27 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_m_state.html#a9a3e8291331eca123479ffe443f68e27">closed_window</a></td></tr>
<tr class="separator:a9a3e8291331eca123479ffe443f68e27 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af01d277be0675652ee6af21859e918f3 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_m_state.html#af01d277be0675652ee6af21859e918f3">round_completed</a></td></tr>
<tr class="separator:af01d277be0675652ee6af21859e918f3 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5d24771f4b7ac61c7a4b27f689f7b0f inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_m_state.html#ad5d24771f4b7ac61c7a4b27f689f7b0f">ctid</a></td></tr>
<tr class="separator:ad5d24771f4b7ac61c7a4b27f689f7b0f inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0532d04f2e9445cc71a984c6f56635f1 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_m_state.html#a0532d04f2e9445cc71a984c6f56635f1">local_clock</a></td></tr>
<tr class="separator:a0532d04f2e9445cc71a984c6f56635f1 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9314943c25986586f5039c1044d8226 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_m_state.html#ab9314943c25986586f5039c1044d8226">local_sync_membership</a></td></tr>
<tr class="separator:ab9314943c25986586f5039c1044d8226 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8665efe73f00d06071e08b8ffaeff892 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_m_state.html#a8665efe73f00d06071e08b8ffaeff892">local_async_membership</a></td></tr>
<tr class="separator:a8665efe73f00d06071e08b8ffaeff892 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d5cee2f40eb01f5779c45780e844d0f inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_m_state.html#a1d5cee2f40eb01f5779c45780e844d0f">local_async_membership_f</a></td></tr>
<tr class="separator:a1d5cee2f40eb01f5779c45780e844d0f inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add72f9abeb010a79de47487c73b4b423 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_m_state.html#add72f9abeb010a79de47487c73b4b423">local_async_membership_r</a></td></tr>
<tr class="separator:add72f9abeb010a79de47487c73b4b423 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5944afe2bcc5270f8444ac428b88db47 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_m_state.html#a5944afe2bcc5270f8444ac428b88db47">local_integration_cycle</a></td></tr>
<tr class="separator:a5944afe2bcc5270f8444ac428b88db47 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a640a5f554af439cdc87a5511603838e7 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_m_state.html#a640a5f554af439cdc87a5511603838e7">clock_corr</a></td></tr>
<tr class="separator:a640a5f554af439cdc87a5511603838e7 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2784659c68df75031d656a640571c308 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_m_state.html#a2784659c68df75031d656a640571c308">stable_cycle_counter</a></td></tr>
<tr class="separator:a2784659c68df75031d656a640571c308 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a544abf6fdbb03d7a3686eb88b6e7ebbb inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_m_state.html#a544abf6fdbb03d7a3686eb88b6e7ebbb">duration</a></td></tr>
<tr class="separator:a544abf6fdbb03d7a3686eb88b6e7ebbb inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada2ddf0f0623fa2678aaa6d6d228c273 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_m_state.html#ada2ddf0f0623fa2678aaa6d6d228c273">ownBit</a></td></tr>
<tr class="separator:ada2ddf0f0623fa2678aaa6d6d228c273 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a624db31004456d988968be4f1707316b inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_m_state.html#a624db31004456d988968be4f1707316b">max_transmission_delay</a></td></tr>
<tr class="separator:a624db31004456d988968be4f1707316b inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4018e3ce6edb846316e5f4bcab73ceea inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_m_state.html#a4018e3ce6edb846316e5f4bcab73ceea">syncDomain</a></td></tr>
<tr class="separator:a4018e3ce6edb846316e5f4bcab73ceea inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0310153fce0a9db9ce38c7ad6cc107e3 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_m_state.html#a0310153fce0a9db9ce38c7ad6cc107e3">syncPriority</a></td></tr>
<tr class="separator:a0310153fce0a9db9ce38c7ad6cc107e3 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8199c68e0e2ca8f1ff07f3604fae619d inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html">TTEScheduler</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_m_state.html#a8199c68e0e2ca8f1ff07f3604fae619d">tteScheduler</a></td></tr>
<tr class="separator:a8199c68e0e2ca8f1ff07f3604fae619d inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec0f605932532cf757368e63c32a0343 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_t_ethernet_model_1_1_scheduler_timer_event.html">SchedulerTimerEvent</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_m_state.html#aec0f605932532cf757368e63c32a0343">event</a></td></tr>
<tr class="separator:aec0f605932532cf757368e63c32a0343 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d734bf7d943e34931b4427394d077cd inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_t_ethernet_model_1_1_scheduler_action_time_event.html">SchedulerActionTimeEvent</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_m_state.html#a3d734bf7d943e34931b4427394d077cd">event1</a></td></tr>
<tr class="separator:a3d734bf7d943e34931b4427394d077cd inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e4c64cb57c82d863411bfd4549d89ad inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_t_ethernet_model_1_1_scheduler_action_time_event.html">SchedulerActionTimeEvent</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_m_state.html#a6e4c64cb57c82d863411bfd4549d89ad">event2</a></td></tr>
<tr class="separator:a6e4c64cb57c82d863411bfd4549d89ad inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77c3294c47ed22a57509be47fd000b28 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_t_ethernet_model_1_1_scheduler_action_time_event.html">SchedulerActionTimeEvent</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_m_state.html#a77c3294c47ed22a57509be47fd000b28">event3</a></td></tr>
<tr class="separator:a77c3294c47ed22a57509be47fd000b28 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff8d6bd8188f416b67216937806c9a94 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_t_ethernet_model_1_1_scheduler_action_time_event.html">SchedulerActionTimeEvent</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_m_state.html#aff8d6bd8188f416b67216937806c9a94">event4</a></td></tr>
<tr class="separator:aff8d6bd8188f416b67216937806c9a94 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fff3d27a98061227035da46705f79c6 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_t_ethernet_model_1_1_scheduler_action_time_event.html">SchedulerActionTimeEvent</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_m_state.html#a9fff3d27a98061227035da46705f79c6">event5</a></td></tr>
<tr class="separator:a9fff3d27a98061227035da46705f79c6 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8d1fea60c217f394465fe9a62b99258 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_m_state.html#ae8d1fea60c217f394465fe9a62b99258">MembershipAcceptanceRange</a></td></tr>
<tr class="separator:ae8d1fea60c217f394465fe9a62b99258 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf98525149094d793db68ac977e4fac9 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memItemLeft" align="right" valign="top">std::map&lt; uint32_t, pair<br class="typebreak"/>
&lt; uint32_t, uint64_t &gt; &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_m_state.html#adf98525149094d793db68ac977e4fac9">clock_stack</a></td></tr>
<tr class="separator:adf98525149094d793db68ac977e4fac9 inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acddbde2498689b1c59886a7162b66ccc inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memItemLeft" align="right" valign="top">multimap&lt; uint64_t, <a class="el" href="class_t_t_ethernet_model_1_1_frame_event.html">FrameEvent</a> * &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_t_ethernet_model_1_1_s_m_state.html#acddbde2498689b1c59886a7162b66ccc">e_container</a></td></tr>
<tr class="separator:acddbde2498689b1c59886a7162b66ccc inherit pub_attribs_class_t_t_ethernet_model_1_1_s_m_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="_s_m_states_8h_source.html#l00120">120</a> of file <a class="el" href="_s_m_states_8h_source.html">SMStates.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a928faae69391aba8931d40739e629fc2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TTEthernetModel::SM_TENTATIVE_SYNC::SM_TENTATIVE_SYNC </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_s_m_states_8cc_source.html#l02803">2803</a> of file <a class="el" href="_s_m_states_8cc_source.html">SMStates.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;                                     {</div>
<div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;</div>
<div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;    <span class="comment">//cout&lt;&lt;&quot;Enter-&gt;SM_TENTATIVE_SYNC \n&quot;&lt;&lt;endl;</span></div>
<div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;    <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a6784f39e31222902378c42922ea3ec70">sm</a>-&gt;getDisplayString().setTagArg(<span class="stringliteral">&quot;i&quot;</span>, 1, <span class="stringliteral">&quot;blue&quot;</span>);</div>
<div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;    <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a6784f39e31222902378c42922ea3ec70">sm</a>-&gt;bubble(<span class="stringliteral">&quot;SM_TENTATIVE_SYNC&quot;</span>);</div>
<div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;</div>
<div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;    ev &lt;&lt; <span class="stringliteral">&quot;SM_TENTATIVE_SYNC MEMBER &quot;</span> &lt;&lt; <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#ada2ddf0f0623fa2678aaa6d6d228c273">ownBit</a> &lt;&lt; endl;</div>
<div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;    <span class="comment">//local_clock==smc_async_eval_pit;</span></div>
<div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;    <span class="comment">//Async_Clique_Detektion();</span></div>
<div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;    <span class="comment">//Relative_Clique_Detection();</span></div>
<div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;</div>
<div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;    <span class="comment">//if(local_clock==0)</span></div>
<div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;    <span class="comment">//send(IN_FRAME);</span></div>
<div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;</div>
<div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;    <span class="comment">//local_clock==smc_sync_eval_pit;</span></div>
<div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;    <span class="comment">//Sync_Clique_Detektion();</span></div>
<div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;    <span class="comment">//stable_cycle_counter++;</span></div>
<div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;</div>
<div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;    <span class="comment">//local_clock==smc_clock_corr_pit;</span></div>
<div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;    <span class="comment">//local_clock=local_clock+clock_corr;</span></div>
<div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;</div>
<div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="adac9cca3c562e02001ef678e735711f8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TTEthernetModel::SM_TENTATIVE_SYNC::handleMessage </td>
          <td>(</td>
          <td class="paramtype">cMessage *&#160;</td>
          <td class="paramname"><em>message</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="class_t_t_ethernet_model_1_1_s_m_state.html#a8d853687d3f2b9e27168bf30c0e1396e">TTEthernetModel::SMState</a>.</p>

<p>Definition at line <a class="el" href="_s_m_states_8cc_source.html#l02825">2825</a> of file <a class="el" href="_s_m_states_8cc_source.html">SMStates.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;                                                       {</div>
<div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;</div>
<div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;    <span class="keywordflow">if</span> (message-&gt;arrivedOn(<span class="stringliteral">&quot;RCin&quot;</span>)) {</div>
<div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;</div>
<div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;        <span class="comment">//ack to the buffer</span></div>
<div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;        RCBuffer *rcBuffer = <span class="keyword">dynamic_cast&lt;</span>RCBuffer*<span class="keyword">&gt;</span>(message-&gt;getSenderModule());</div>
<div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;        <span class="keywordflow">if</span> (rcBuffer)</div>
<div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;            rcBuffer-&gt;resetBag();</div>
<div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;</div>
<div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;        PCFrame *frame = <span class="keyword">dynamic_cast&lt;</span>PCFrame *<span class="keyword">&gt;</span>(message);</div>
<div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;</div>
<div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;        <span class="keywordflow">if</span> ((frame-&gt;getSync_domain() == <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a4018e3ce6edb846316e5f4bcab73ceea">syncDomain</a>)</div>
<div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;                &amp;&amp; (frame-&gt;getSync_priority() == <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a0310153fce0a9db9ce38c7ad6cc107e3">syncPriority</a>)) {</div>
<div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;</div>
<div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="_helper_functions_8cc.html#ab7aebf5462b19bd64206b5ab5ebb3392" title="Converts value in the transparent clock unit that is ns*0x10000 to ticks.">transparentClockToTicks</a>(frame-&gt;getTransparent_clock(),</div>
<div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;                    <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a8199c68e0e2ca8f1ff07f3604fae619d">tteScheduler</a>-&gt;par(<span class="stringliteral">&quot;tick&quot;</span>).doubleValue())</div>
<div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;                    + (<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a8199c68e0e2ca8f1ff07f3604fae619d">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#ac0ad022871d9c70f81625755d7cdb77e" title="Returns the absolute number of ticks.">getTotalTicks</a>()</div>
<div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;                            - frame-&gt;par(<span class="stringliteral">&quot;received_total&quot;</span>).longValue())</div>
<div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;                    &gt; <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a624db31004456d988968be4f1707316b">max_transmission_delay</a>)) {</div>
<div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;</div>
<div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;                ev</div>
<div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;WARNING: SM_TENTATIVE_SYNC : max_transmission_delay &lt; frame-&gt;getTransparent_clock() :&quot;</span></div>
<div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;                        &lt;&lt; endl;</div>
<div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;            }</div>
<div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;</div>
<div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;</div>
<div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;</div>
<div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;            <span class="comment">//calculate permanence pit</span></div>
<div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;            uint64_t permanence_delay =</div>
<div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;                    <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a624db31004456d988968be4f1707316b">max_transmission_delay</a></div>
<div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;                            - (<a class="code" href="_helper_functions_8cc.html#ab7aebf5462b19bd64206b5ab5ebb3392" title="Converts value in the transparent clock unit that is ns*0x10000 to ticks.">transparentClockToTicks</a>(</div>
<div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;                                    frame-&gt;getTransparent_clock(),</div>
<div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;                                    <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a8199c68e0e2ca8f1ff07f3604fae619d">tteScheduler</a>-&gt;par(<span class="stringliteral">&quot;tick&quot;</span>).doubleValue())</div>
<div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;                                    + (<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a8199c68e0e2ca8f1ff07f3604fae619d">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#ac0ad022871d9c70f81625755d7cdb77e" title="Returns the absolute number of ticks.">getTotalTicks</a>()</div>
<div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;                                            - frame-&gt;par(<span class="stringliteral">&quot;received_total&quot;</span>).longValue()));</div>
<div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;            uint64_t permanence_pit = <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a8199c68e0e2ca8f1ff07f3604fae619d">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#ac0ad022871d9c70f81625755d7cdb77e" title="Returns the absolute number of ticks.">getTotalTicks</a>()</div>
<div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;                    + permanence_delay;</div>
<div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;</div>
<div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;            <span class="comment">//save the event</span></div>
<div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;            <span class="keywordflow">if</span> (frame-&gt;getType() == <a class="code" href="namespace_t_t_ethernet_model.html#a1ee6d33b2f327407c3f27ead021da60eac869b30499d7d077b91e09fa29d87108">CA_FRAME</a>) {</div>
<div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;</div>
<div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;                <span class="comment">//create and register the event for the permanence pit</span></div>
<div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;                FrameEvent *f_event = <span class="keyword">new</span> FrameEvent(<span class="stringliteral">&quot;FRAME&quot;</span>, <a class="code" href="namespace_t_t_ethernet_model.html#a7d0551d60b68ae7bedfd5d3d30f8b499a6cb1ab49053a3b9d013a1fcf4896ac5c">TIMER_EVENT</a>);</div>
<div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;</div>
<div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;                f_event-&gt;setPcfType(frame-&gt;getType());</div>
<div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;                f_event-&gt;setMember(frame-&gt;getMembership_new());</div>
<div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;                f_event-&gt;setIntegrationCycle(frame-&gt;getIntegration_cycle());</div>
<div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;                f_event-&gt;setTimer(permanence_delay);</div>
<div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;</div>
<div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;                f_event-&gt;setDestinationGate(<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a6784f39e31222902378c42922ea3ec70">sm</a>-&gt;gate(<span class="stringliteral">&quot;schedulerIn&quot;</span>));</div>
<div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;</div>
<div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;                f_event-&gt;setSchedulingPriority(1);</div>
<div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;</div>
<div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a8199c68e0e2ca8f1ff07f3604fae619d">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#afc4a5062aeb6488f879e99df6cb35865" title="Register a new event in the scheduler.">registerEvent</a>(f_event);</div>
<div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;</div>
<div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;            } <span class="comment">//CA_FRAME</span></div>
<div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;</div>
<div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;            <span class="keywordflow">if</span> (frame-&gt;getType() == <a class="code" href="namespace_t_t_ethernet_model.html#a1ee6d33b2f327407c3f27ead021da60eab602bf5217b511903f7288f628b0c77d">IN_FRAME</a>) {</div>
<div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;</div>
<div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;                FrameEvent *f_event = <span class="keyword">new</span> FrameEvent(<span class="stringliteral">&quot;IN_FRAME&quot;</span>, <a class="code" href="namespace_t_t_ethernet_model.html#a7d0551d60b68ae7bedfd5d3d30f8b499a6cb1ab49053a3b9d013a1fcf4896ac5c">TIMER_EVENT</a>);</div>
<div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;</div>
<div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;                f_event-&gt;setReceivedPort(</div>
<div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;                        frame-&gt;par(<span class="stringliteral">&quot;received_port&quot;</span>).longValue());</div>
<div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;                f_event-&gt;setPcfType(frame-&gt;getType());</div>
<div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;                f_event-&gt;setMember(frame-&gt;getMembership_new());</div>
<div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;</div>
<div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;                f_event-&gt;setTimer(permanence_delay);</div>
<div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;                f_event-&gt;setDestinationGate(<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a6784f39e31222902378c42922ea3ec70">sm</a>-&gt;gate(<span class="stringliteral">&quot;schedulerIn&quot;</span>));</div>
<div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;                f_event-&gt;setIntegrationCycle(frame-&gt;getIntegration_cycle());</div>
<div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;                f_event-&gt;setSchedulingPriority(2);</div>
<div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;</div>
<div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a8199c68e0e2ca8f1ff07f3604fae619d">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#afc4a5062aeb6488f879e99df6cb35865" title="Register a new event in the scheduler.">registerEvent</a>(f_event);</div>
<div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;</div>
<div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#acddbde2498689b1c59886a7162b66ccc">e_container</a>-&gt;insert(</div>
<div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;                        pair&lt;uint64_t, FrameEvent *&gt;(permanence_pit, f_event));</div>
<div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;</div>
<div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;            } <span class="comment">//IN_FRAME</span></div>
<div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;</div>
<div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;            <span class="keyword">delete</span> frame;</div>
<div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;</div>
<div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;</div>
<div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;            ev &lt;&lt; <span class="stringliteral">&quot;DEBUG: TENTATIVE_SYNC: FRAME ERROR&quot;</span></div>
<div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot;wrong domain or priority&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;</div>
<div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;        } <span class="comment">//sync_priority, sync_domain</span></div>
<div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;</div>
<div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;    } <span class="comment">//gate RCin (PCF FRAME)</span></div>
<div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;</div>
<div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;    <span class="keywordflow">if</span> (message-&gt;arrivedOn(<span class="stringliteral">&quot;schedulerIn&quot;</span>)) {</div>
<div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;</div>
<div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;        <span class="keywordflow">if</span> (<span class="keywordtype">string</span>(message-&gt;getName()).compare(<span class="stringliteral">&quot;FRAME&quot;</span>) == 0) {</div>
<div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;</div>
<div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;            FrameEvent *evt = <span class="keyword">dynamic_cast&lt;</span>FrameEvent *<span class="keyword">&gt;</span>(message);</div>
<div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;</div>
<div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;            <span class="keywordflow">if</span> (evt-&gt;getPcfType() == <a class="code" href="namespace_t_t_ethernet_model.html#a1ee6d33b2f327407c3f27ead021da60eac869b30499d7d077b91e09fa29d87108">CA_FRAME</a>) {</div>
<div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160;</div>
<div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;                <span class="comment">//get the PCF Frame</span></div>
<div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;</div>
<div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;                <span class="comment">//event=new SchedulerTimerEvent(&quot;ASYNCHRON&quot;,TIMER_EVENT);</span></div>
<div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a544abf6fdbb03d7a3686eb88b6e7ebbb">duration</a> = <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a6784f39e31222902378c42922ea3ec70">sm</a>-&gt;par(<span class="stringliteral">&quot;ca_offset&quot;</span>).longValue();</div>
<div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;                <span class="keyword">event</span>-&gt;setSchedulingPriority(3);</div>
<div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160;                <span class="keyword">event</span>-&gt;setTimer(<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a544abf6fdbb03d7a3686eb88b6e7ebbb">duration</a>);</div>
<div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;                <span class="keyword">event</span>-&gt;setDestinationGate(<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a6784f39e31222902378c42922ea3ec70">sm</a>-&gt;gate(<span class="stringliteral">&quot;schedulerIn&quot;</span>));</div>
<div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;                <span class="comment">//local_clock=0;</span></div>
<div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a8199c68e0e2ca8f1ff07f3604fae619d">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#a47d1fbcf833c7f8d6627277a4b8525b3" title="Corrects the clock by the number of ticks.">clockCorrection</a>(<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a8199c68e0e2ca8f1ff07f3604fae619d">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#a6831234789320df881e83389f49cd773" title="Returns the current number of ticks.">getTicks</a>());</div>
<div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;</div>
<div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a5944afe2bcc5270f8444ac428b88db47">local_integration_cycle</a> = 0;</div>
<div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#ab9314943c25986586f5039c1044d8226">local_sync_membership</a> = 0;</div>
<div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#ab9314943c25986586f5039c1044d8226">local_sync_membership</a> = <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#ab9314943c25986586f5039c1044d8226">local_sync_membership</a> | (1 &lt;&lt; <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#ada2ddf0f0623fa2678aaa6d6d228c273">ownBit</a>);</div>
<div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a8665efe73f00d06071e08b8ffaeff892">local_async_membership</a> = 0;</div>
<div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#add72f9abeb010a79de47487c73b4b423">local_async_membership_r</a> = 0;</div>
<div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a1d5cee2f40eb01f5779c45780e844d0f">local_async_membership_f</a> = 0;</div>
<div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a2784659c68df75031d656a640571c308">stable_cycle_counter</a> = 0;</div>
<div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160;</div>
<div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#adf98525149094d793db68ac977e4fac9">clock_stack</a>-&gt;clear();</div>
<div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;</div>
<div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a3d734bf7d943e34931b4427394d077cd">event1</a>-&gt;isScheduled()) {</div>
<div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160;                    <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a8199c68e0e2ca8f1ff07f3604fae619d">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#acfeedfdd1219d0ab349663750d1be18a" title="Unregister an event that was previously registered in the scheduler.">unregisterEvent</a>(<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a3d734bf7d943e34931b4427394d077cd">event1</a>);</div>
<div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;                }</div>
<div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a6e4c64cb57c82d863411bfd4549d89ad">event2</a>-&gt;isScheduled()) {</div>
<div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;                    <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a8199c68e0e2ca8f1ff07f3604fae619d">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#acfeedfdd1219d0ab349663750d1be18a" title="Unregister an event that was previously registered in the scheduler.">unregisterEvent</a>(<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a6e4c64cb57c82d863411bfd4549d89ad">event2</a>);</div>
<div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;                }</div>
<div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a77c3294c47ed22a57509be47fd000b28">event3</a>-&gt;isScheduled()) {</div>
<div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;                    <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a8199c68e0e2ca8f1ff07f3604fae619d">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#acfeedfdd1219d0ab349663750d1be18a" title="Unregister an event that was previously registered in the scheduler.">unregisterEvent</a>(<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a77c3294c47ed22a57509be47fd000b28">event3</a>);</div>
<div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;                }</div>
<div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#aff8d6bd8188f416b67216937806c9a94">event4</a>-&gt;isScheduled()) {</div>
<div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;                    <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a8199c68e0e2ca8f1ff07f3604fae619d">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#acfeedfdd1219d0ab349663750d1be18a" title="Unregister an event that was previously registered in the scheduler.">unregisterEvent</a>(<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#aff8d6bd8188f416b67216937806c9a94">event4</a>);</div>
<div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;                }</div>
<div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a9fff3d27a98061227035da46705f79c6">event5</a>-&gt;isScheduled()) {</div>
<div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;                    <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a8199c68e0e2ca8f1ff07f3604fae619d">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#acfeedfdd1219d0ab349663750d1be18a" title="Unregister an event that was previously registered in the scheduler.">unregisterEvent</a>(<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a9fff3d27a98061227035da46705f79c6">event5</a>);</div>
<div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;                }</div>
<div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;</div>
<div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;                <span class="keyword">delete</span> evt;</div>
<div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;</div>
<div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;                <span class="keyword">new</span> (<span class="keyword">this</span>) SM_WAIT_4_CYCLE_START_CS();</div>
<div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;            }</div>
<div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;</div>
<div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;        <span class="keyword">delete</span> evt;</div>
<div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;</div>
<div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;        } <span class="comment">//FRAME</span></div>
<div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;</div>
<div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;        <span class="keywordflow">if</span> (<span class="keywordtype">string</span>(message-&gt;getName()).compare(<span class="stringliteral">&quot;IN_FRAME&quot;</span>) == 0) {</div>
<div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;</div>
<div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;            FrameEvent *evt = <span class="keyword">dynamic_cast&lt;</span>FrameEvent *<span class="keyword">&gt;</span>(message);</div>
<div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;</div>
<div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;            <span class="keywordflow">if</span> (evt-&gt;getPcfType() == <a class="code" href="namespace_t_t_ethernet_model.html#a1ee6d33b2f327407c3f27ead021da60eab602bf5217b511903f7288f628b0c77d">IN_FRAME</a>) {</div>
<div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;</div>
<div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;                uint32_t received_port = evt-&gt;getReceivedPort();</div>
<div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;                uint64_t int_cycle = evt-&gt;getIntegrationCycle();</div>
<div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;                uint64_t permanence_pit = <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a8199c68e0e2ca8f1ff07f3604fae619d">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#a6831234789320df881e83389f49cd773" title="Returns the current number of ticks.">getTicks</a>();</div>
<div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;                uint32_t membership = evt-&gt;getMember();</div>
<div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;</div>
<div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;                <span class="keywordflow">if</span> (int_cycle == <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a5944afe2bcc5270f8444ac428b88db47">local_integration_cycle</a>) {</div>
<div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;</div>
<div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#ac6064207d1cacb649c2d3f418510dca6">inSchedule</a>(permanence_pit,</div>
<div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;                            <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a6784f39e31222902378c42922ea3ec70">sm</a>-&gt;par(<span class="stringliteral">&quot;smc_scheduled_receive_pit&quot;</span>).longValue(),</div>
<div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;                            <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a6784f39e31222902378c42922ea3ec70">sm</a>-&gt;par(<span class="stringliteral">&quot;acceptance_window&quot;</span>).longValue())) {</div>
<div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;</div>
<div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#aba24737a1fe176766bf2daf00909ce25">getValue</a>(membership, 32)</div>
<div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;                                &gt;= (<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a6784f39e31222902378c42922ea3ec70">sm</a>-&gt;par(<span class="stringliteral">&quot;max_pcf_membership&quot;</span>).longValue()</div>
<div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;                                        - <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#ae8d1fea60c217f394465fe9a62b99258">MembershipAcceptanceRange</a>)</div>
<div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;                                &amp;&amp; (<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#aba24737a1fe176766bf2daf00909ce25">getValue</a>(membership, 32)</div>
<div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;                                        &lt;= (<span class="keywordtype">unsigned</span> int)<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a6784f39e31222902378c42922ea3ec70">sm</a>-&gt;par(<span class="stringliteral">&quot;max_pcf_membership&quot;</span>).longValue())) {</div>
<div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;</div>
<div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;                            uint32_t key_ = <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#aba24737a1fe176766bf2daf00909ce25">getValue</a>(membership, 32);</div>
<div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;</div>
<div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;                            map&lt;uint32_t, pair&lt;uint32_t, uint64_t&gt; &gt;::iterator itr =</div>
<div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;                                    <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#adf98525149094d793db68ac977e4fac9">clock_stack</a>-&gt;find(received_port);</div>
<div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;</div>
<div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;                            <span class="keywordflow">if</span> (itr == <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#adf98525149094d793db68ac977e4fac9">clock_stack</a>-&gt;end()) {</div>
<div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;</div>
<div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;                                <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#adf98525149094d793db68ac977e4fac9">clock_stack</a>-&gt;insert(</div>
<div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;                                        pair&lt;uint32_t, pair&lt;uint32_t, uint64_t&gt; &gt;(</div>
<div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;                                                received_port,</div>
<div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;                                                pair&lt;uint32_t, uint64_t&gt;(key_,</div>
<div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160;                                                        permanence_pit)));</div>
<div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;</div>
<div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;                            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;</div>
<div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;                                <span class="keywordflow">if</span> (key_ &gt; itr-&gt;second.first) {</div>
<div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160;</div>
<div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;                                    itr-&gt;second.first = key_;</div>
<div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;                                    itr-&gt;second.second = permanence_pit;</div>
<div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;</div>
<div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160;                                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (key_ == itr-&gt;second.first) {</div>
<div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;</div>
<div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;                                    <span class="keywordflow">if</span> (permanence_pit &gt; itr-&gt;second.second) {</div>
<div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;                                        itr-&gt;second.second = permanence_pit;</div>
<div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160;                                    }</div>
<div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;</div>
<div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;                                } <span class="comment">//membership equal</span></div>
<div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;</div>
<div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160;                            } <span class="comment">//found</span></div>
<div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;</div>
<div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;                        } <span class="comment">//faulty sync master to be tolerated</span></div>
<div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;</div>
<div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;                    } <span class="keywordflow">else</span> { <span class="comment">//out of Schedule -&gt; permanence pit out of bounds</span></div>
<div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;</div>
<div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;                        <span class="comment">//update local_async_membership</span></div>
<div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;                        <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#add72f9abeb010a79de47487c73b4b423">local_async_membership_r</a> = <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#add72f9abeb010a79de47487c73b4b423">local_async_membership_r</a></div>
<div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;                                | (membership);</div>
<div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;                        <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a1d5cee2f40eb01f5779c45780e844d0f">local_async_membership_f</a> = <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a1d5cee2f40eb01f5779c45780e844d0f">local_async_membership_f</a></div>
<div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160;                                | (membership);</div>
<div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;                        <span class="comment">//</span></div>
<div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160;                        <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a6784f39e31222902378c42922ea3ec70">sm</a>-&gt;bubble(</div>
<div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;                                <span class="stringliteral">&quot;out of Schedule -&gt; permanence pit out of bounds&quot;</span>);</div>
<div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;                        <span class="comment">//write to log</span></div>
<div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;                        ev</div>
<div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;                                &lt;&lt; <span class="stringliteral">&quot;DEBUG: TENTATIVE_SYNC: permanence point in time(out of schedule)-&gt;&quot;</span></div>
<div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;                                &lt;&lt; permanence_pit &lt;&lt; <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#ada2ddf0f0623fa2678aaa6d6d228c273">ownBit</a> &lt;&lt; endl;</div>
<div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160;                    } <span class="comment">//inSchedule</span></div>
<div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160;</div>
<div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160;                } <span class="keywordflow">else</span> { <span class="comment">//out of Schedule -&gt; wrong integration cycle</span></div>
<div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160;</div>
<div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;                    <span class="comment">//update local_async_membership</span></div>
<div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160;</div>
<div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;                    <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#add72f9abeb010a79de47487c73b4b423">local_async_membership_r</a> = <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#add72f9abeb010a79de47487c73b4b423">local_async_membership_r</a></div>
<div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;                            | (membership);</div>
<div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;                    <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a1d5cee2f40eb01f5779c45780e844d0f">local_async_membership_f</a> = <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a1d5cee2f40eb01f5779c45780e844d0f">local_async_membership_f</a></div>
<div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160;                            | (membership);</div>
<div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160;</div>
<div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;                    <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a6784f39e31222902378c42922ea3ec70">sm</a>-&gt;bubble(<span class="stringliteral">&quot;out of Schedule -&gt; wrong integration cycle&quot;</span>);</div>
<div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;</div>
<div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160;                    ev &lt;&lt; <span class="stringliteral">&quot;DEBUG: SM_TENTATIVE_SYNC:&quot;</span> &lt;&lt; <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#ada2ddf0f0623fa2678aaa6d6d228c273">ownBit</a> &lt;&lt; endl;</div>
<div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;                    ev</div>
<div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;                            &lt;&lt; <span class="stringliteral">&quot;DEBUG: SM_TENTATIVE_SYNC: permanence point in time( wrong integration cycle)-&gt;&quot;</span></div>
<div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160;                            &lt;&lt; permanence_pit &lt;&lt; endl;</div>
<div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;                    ev &lt;&lt; <span class="stringliteral">&quot;DEBUG: SM_TENTATIVE_SYNC: local_integration_cycle-&gt;&quot;</span></div>
<div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160;                            &lt;&lt; <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a5944afe2bcc5270f8444ac428b88db47">local_integration_cycle</a> &lt;&lt; endl;</div>
<div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;                    ev &lt;&lt; <span class="stringliteral">&quot;DEBUG: SM_TENTATIVE_SYNC: FRAME integration_cycle-&gt;&quot;</span></div>
<div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160;                            &lt;&lt; int_cycle &lt;&lt; endl;</div>
<div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160;</div>
<div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160;                } <span class="comment">//local_integration_cycle</span></div>
<div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;</div>
<div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160;                uint64_t ppt = <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a8199c68e0e2ca8f1ff07f3604fae619d">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#ac0ad022871d9c70f81625755d7cdb77e" title="Returns the absolute number of ticks.">getTotalTicks</a>();</div>
<div class="line"><a name="l03063"></a><span class="lineno"> 3063</span>&#160;</div>
<div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#acddbde2498689b1c59886a7162b66ccc">e_container</a>-&gt;find(ppt) != <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#acddbde2498689b1c59886a7162b66ccc">e_container</a>-&gt;end()) {</div>
<div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160;</div>
<div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;                    <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#acddbde2498689b1c59886a7162b66ccc">e_container</a>-&gt;erase(ppt);</div>
<div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160;</div>
<div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160;                }</div>
<div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;</div>
<div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;                <span class="keyword">delete</span> evt;</div>
<div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;            }</div>
<div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160;        } <span class="comment">//IN FRAME Event</span></div>
<div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;</div>
<div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;        <span class="keywordflow">if</span> (<span class="keywordtype">string</span>(message-&gt;getName()).compare(<span class="stringliteral">&quot;smc_async_eval_pit&quot;</span>) == 0) {</div>
<div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160;</div>
<div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160;            <span class="comment">//update local_async_membership</span></div>
<div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a5944afe2bcc5270f8444ac428b88db47">local_integration_cycle</a> % 2) == 0) {</div>
<div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160;</div>
<div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a8665efe73f00d06071e08b8ffaeff892">local_async_membership</a> = <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#add72f9abeb010a79de47487c73b4b423">local_async_membership_r</a>;</div>
<div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160;</div>
<div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160;</div>
<div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a8665efe73f00d06071e08b8ffaeff892">local_async_membership</a> = <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a1d5cee2f40eb01f5779c45780e844d0f">local_async_membership_f</a>;</div>
<div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160;</div>
<div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160;            }</div>
<div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160;</div>
<div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#aba24737a1fe176766bf2daf00909ce25">getValue</a>(<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a8665efe73f00d06071e08b8ffaeff892">local_async_membership</a>, 32)</div>
<div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160;                    &gt;= (<span class="keywordtype">unsigned</span> int)<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a6784f39e31222902378c42922ea3ec70">sm</a>-&gt;par(<span class="stringliteral">&quot;sm_tentative_sync_threshold_async&quot;</span>).longValue())</div>
<div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;                    || (<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#aba24737a1fe176766bf2daf00909ce25">getValue</a>(<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a8665efe73f00d06071e08b8ffaeff892">local_async_membership</a>, 32)</div>
<div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160;                            &gt;= <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#ab9314943c25986586f5039c1044d8226">local_sync_membership</a>)) {</div>
<div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160;</div>
<div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;                <span class="comment">//event=new SchedulerTimerEvent(&quot;ASYNCHRON&quot;,TIMER_EVENT);</span></div>
<div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a544abf6fdbb03d7a3686eb88b6e7ebbb">duration</a> = <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a6784f39e31222902378c42922ea3ec70">sm</a>-&gt;par(<span class="stringliteral">&quot;sm_restart_timeout_async&quot;</span>).longValue();</div>
<div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;                <span class="keyword">event</span>-&gt;setSchedulingPriority(3);</div>
<div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160;                <span class="keyword">event</span>-&gt;setTimer(<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a544abf6fdbb03d7a3686eb88b6e7ebbb">duration</a>);</div>
<div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;                <span class="keyword">event</span>-&gt;setDestinationGate(<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a6784f39e31222902378c42922ea3ec70">sm</a>-&gt;gate(<span class="stringliteral">&quot;schedulerIn&quot;</span>));</div>
<div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160;</div>
<div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;                <span class="comment">//local_clock=0;</span></div>
<div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a8199c68e0e2ca8f1ff07f3604fae619d">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#a47d1fbcf833c7f8d6627277a4b8525b3" title="Corrects the clock by the number of ticks.">clockCorrection</a>(<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a8199c68e0e2ca8f1ff07f3604fae619d">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#a6831234789320df881e83389f49cd773" title="Returns the current number of ticks.">getTicks</a>());</div>
<div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;</div>
<div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a5944afe2bcc5270f8444ac428b88db47">local_integration_cycle</a> = 0;</div>
<div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#ab9314943c25986586f5039c1044d8226">local_sync_membership</a> = 0;</div>
<div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a8665efe73f00d06071e08b8ffaeff892">local_async_membership</a> = 0;</div>
<div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#add72f9abeb010a79de47487c73b4b423">local_async_membership_r</a> = 0;</div>
<div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a1d5cee2f40eb01f5779c45780e844d0f">local_async_membership_f</a> = 0;</div>
<div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a2784659c68df75031d656a640571c308">stable_cycle_counter</a> = 0;</div>
<div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160;</div>
<div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a8199c68e0e2ca8f1ff07f3604fae619d">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#acfeedfdd1219d0ab349663750d1be18a" title="Unregister an event that was previously registered in the scheduler.">unregisterEvent</a>(<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a6e4c64cb57c82d863411bfd4549d89ad">event2</a>);</div>
<div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a8199c68e0e2ca8f1ff07f3604fae619d">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#acfeedfdd1219d0ab349663750d1be18a" title="Unregister an event that was previously registered in the scheduler.">unregisterEvent</a>(<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#aff8d6bd8188f416b67216937806c9a94">event4</a>);</div>
<div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a8199c68e0e2ca8f1ff07f3604fae619d">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#acfeedfdd1219d0ab349663750d1be18a" title="Unregister an event that was previously registered in the scheduler.">unregisterEvent</a>(<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a9fff3d27a98061227035da46705f79c6">event5</a>);</div>
<div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;</div>
<div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#adf98525149094d793db68ac977e4fac9">clock_stack</a>-&gt;clear();</div>
<div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;</div>
<div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160;                <span class="keyword">new</span> (<span class="keyword">this</span>) SM_UNSYNC();</div>
<div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;</div>
<div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;            } <span class="comment">//smc_async_eval_pit</span></div>
<div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160;</div>
<div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;            <span class="keywordflow">if</span> (!((<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#aba24737a1fe176766bf2daf00909ce25">getValue</a>(<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a8665efe73f00d06071e08b8ffaeff892">local_async_membership</a>, 32)</div>
<div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;                    &gt;= (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a6784f39e31222902378c42922ea3ec70">sm</a>-&gt;par(<span class="stringliteral">&quot;sm_tentative_sync_threshold_async&quot;</span>).longValue())</div>
<div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;                    || (<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#aba24737a1fe176766bf2daf00909ce25">getValue</a>(<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a8665efe73f00d06071e08b8ffaeff892">local_async_membership</a>, 32)</div>
<div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;                            &gt;= <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#ab9314943c25986586f5039c1044d8226">local_sync_membership</a>))) {</div>
<div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;</div>
<div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;                <span class="comment">//send(IN_FRAME);</span></div>
<div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;</div>
<div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;                PCFrame *p = <span class="keyword">new</span> PCFrame(<span class="stringliteral">&quot;IN_FRAME&quot;</span>);</div>
<div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160;</div>
<div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;                cMsgPar *par = &amp;p-&gt;addPar(<span class="stringliteral">&quot;created_total&quot;</span>);</div>
<div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;                par-&gt;setLongValue(<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a8199c68e0e2ca8f1ff07f3604fae619d">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#ac0ad022871d9c70f81625755d7cdb77e" title="Returns the absolute number of ticks.">getTotalTicks</a>());</div>
<div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;</div>
<div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;                p-&gt;setType(<a class="code" href="namespace_t_t_ethernet_model.html#a1ee6d33b2f327407c3f27ead021da60eab602bf5217b511903f7288f628b0c77d">IN_FRAME</a>);</div>
<div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;                p-&gt;setTransparent_clock(0);</div>
<div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;                p-&gt;setMembership_new(1 &lt;&lt; <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#ada2ddf0f0623fa2678aaa6d6d228c273">ownBit</a>);</div>
<div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;                p-&gt;setSync_domain(2);</div>
<div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;                p-&gt;setSync_priority(4);</div>
<div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;                p-&gt;setByteLength(46 + ETHER_MAC_FRAME_BYTES);</div>
<div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;                p-&gt;setIntegration_cycle(<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a5944afe2bcc5270f8444ac428b88db47">local_integration_cycle</a> + 1);</div>
<div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;                <span class="comment">//Padding</span></div>
<div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;                <span class="keywordflow">if</span> (p-&gt;getByteLength() &lt; <a class="code" href="_t_t_e4_i_n_e_t_defs_8h.html#af1aeba82bae190f10e219e04546e8cb7" title="Maintain backwards compatibility MIN_ETHERNET_FRAME changed to MIN_ETHERNET_FRAME_BYTES from 1...">MIN_ETHERNET_FRAME_BYTES</a>) {</div>
<div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;                    p-&gt;setByteLength(<a class="code" href="_t_t_e4_i_n_e_t_defs_8h.html#af1aeba82bae190f10e219e04546e8cb7" title="Maintain backwards compatibility MIN_ETHERNET_FRAME changed to MIN_ETHERNET_FRAME_BYTES from 1...">MIN_ETHERNET_FRAME_BYTES</a>);</div>
<div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;                }</div>
<div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;                p-&gt;setDisplayString(<span class="stringliteral">&quot;b=15,15,rect,white,red,5&quot;</span>);</div>
<div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160;</div>
<div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a6784f39e31222902378c42922ea3ec70">sm</a>-&gt;sendDirect(</div>
<div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;                        p,</div>
<div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;                        <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a6784f39e31222902378c42922ea3ec70">sm</a>-&gt;getParentModule()-&gt;getSubmodule(<span class="stringliteral">&quot;vl_pcf_out_IN&quot;</span>)-&gt;gate(</div>
<div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;                                <span class="stringliteral">&quot;in&quot;</span>));</div>
<div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160;</div>
<div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;</div>
<div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;</div>
<div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a8199c68e0e2ca8f1ff07f3604fae619d">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#afc4a5062aeb6488f879e99df6cb35865" title="Register a new event in the scheduler.">registerEvent</a>(<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a3d734bf7d943e34931b4427394d077cd">event1</a>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;</div>
<div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;            }</div>
<div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;        } <span class="comment">//sm_dispatch_pit</span></div>
<div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;</div>
<div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160;        <span class="keywordflow">if</span> (<span class="keywordtype">string</span>(message-&gt;getName()).compare(<span class="stringliteral">&quot;smc_inc_pit&quot;</span>) == 0) {</div>
<div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;</div>
<div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;            <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a5944afe2bcc5270f8444ac428b88db47">local_integration_cycle</a> = (<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a5944afe2bcc5270f8444ac428b88db47">local_integration_cycle</a> + 1)</div>
<div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;                    % (<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a6784f39e31222902378c42922ea3ec70">sm</a>-&gt;par(<span class="stringliteral">&quot;max_integration_cycles&quot;</span>).longValue());</div>
<div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;</div>
<div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;            <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a8199c68e0e2ca8f1ff07f3604fae619d">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#afc4a5062aeb6488f879e99df6cb35865" title="Register a new event in the scheduler.">registerEvent</a>(<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#aff8d6bd8188f416b67216937806c9a94">event4</a>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;        }</div>
<div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;</div>
<div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;        <span class="keywordflow">if</span> (<span class="keywordtype">string</span>(message-&gt;getName()).compare(<span class="stringliteral">&quot;smc_sync_eval_pit&quot;</span>) == 0) {</div>
<div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;</div>
<div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#adf98525149094d793db68ac977e4fac9">clock_stack</a>-&gt;empty()) {</div>
<div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;</div>
<div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;                map&lt;uint32_t, pair&lt;uint32_t, uint64_t&gt; &gt;::iterator iter =</div>
<div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;                        <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#adf98525149094d793db68ac977e4fac9">clock_stack</a>-&gt;begin();</div>
<div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;</div>
<div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#adf98525149094d793db68ac977e4fac9">clock_stack</a>-&gt;size() == 1) {</div>
<div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;</div>
<div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;                    <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#ab9314943c25986586f5039c1044d8226">local_sync_membership</a> = iter-&gt;second.first;</div>
<div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;</div>
<div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;                    <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#ab9314943c25986586f5039c1044d8226">local_sync_membership</a> = iter-&gt;second.first;</div>
<div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;</div>
<div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;                    <span class="keywordflow">while</span> (iter != <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#adf98525149094d793db68ac977e4fac9">clock_stack</a>-&gt;end()) {</div>
<div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;</div>
<div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;                        <span class="keywordflow">if</span> (iter-&gt;second.first &gt; <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#ab9314943c25986586f5039c1044d8226">local_sync_membership</a>) {</div>
<div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;                            <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#ab9314943c25986586f5039c1044d8226">local_sync_membership</a> = iter-&gt;second.first;</div>
<div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;                        }</div>
<div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;                        iter++;</div>
<div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;                    } <span class="comment">//while</span></div>
<div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;</div>
<div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160;                }</div>
<div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;</div>
<div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;</div>
<div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;</div>
<div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160;                <span class="comment">//no &quot;in Schedule&quot; frame has been received during the acceptance window</span></div>
<div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160;</div>
<div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#ab9314943c25986586f5039c1044d8226">local_sync_membership</a> = 0;</div>
<div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;</div>
<div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;            }</div>
<div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;</div>
<div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#ab9314943c25986586f5039c1044d8226">local_sync_membership</a></div>
<div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160;                    &lt; (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a6784f39e31222902378c42922ea3ec70">sm</a>-&gt;par(<span class="stringliteral">&quot;sm_tentative_sync_threshold_sync&quot;</span>).longValue()) {</div>
<div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160;</div>
<div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a544abf6fdbb03d7a3686eb88b6e7ebbb">duration</a> = <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a6784f39e31222902378c42922ea3ec70">sm</a>-&gt;par(<span class="stringliteral">&quot;sm_restart_timeout_async&quot;</span>).longValue();</div>
<div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;                <span class="keyword">event</span>-&gt;setSchedulingPriority(3);</div>
<div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160;                <span class="keyword">event</span>-&gt;setTimer(<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a544abf6fdbb03d7a3686eb88b6e7ebbb">duration</a>);</div>
<div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;                <span class="keyword">event</span>-&gt;setDestinationGate(<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a6784f39e31222902378c42922ea3ec70">sm</a>-&gt;gate(<span class="stringliteral">&quot;schedulerIn&quot;</span>));</div>
<div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160;</div>
<div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;                <span class="comment">//local_clock=0;</span></div>
<div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a8199c68e0e2ca8f1ff07f3604fae619d">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#a47d1fbcf833c7f8d6627277a4b8525b3" title="Corrects the clock by the number of ticks.">clockCorrection</a>(<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a8199c68e0e2ca8f1ff07f3604fae619d">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#a6831234789320df881e83389f49cd773" title="Returns the current number of ticks.">getTicks</a>());</div>
<div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160;</div>
<div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a5944afe2bcc5270f8444ac428b88db47">local_integration_cycle</a> = 0;</div>
<div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#ab9314943c25986586f5039c1044d8226">local_sync_membership</a> = 0;</div>
<div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a8665efe73f00d06071e08b8ffaeff892">local_async_membership</a> = 0;</div>
<div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#add72f9abeb010a79de47487c73b4b423">local_async_membership_r</a> = 0;</div>
<div class="line"><a name="l03213"></a><span class="lineno"> 3213</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a1d5cee2f40eb01f5779c45780e844d0f">local_async_membership_f</a> = 0;</div>
<div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a2784659c68df75031d656a640571c308">stable_cycle_counter</a> = 0;</div>
<div class="line"><a name="l03215"></a><span class="lineno"> 3215</span>&#160;</div>
<div class="line"><a name="l03216"></a><span class="lineno"> 3216</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a8199c68e0e2ca8f1ff07f3604fae619d">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#acfeedfdd1219d0ab349663750d1be18a" title="Unregister an event that was previously registered in the scheduler.">unregisterEvent</a>(<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a3d734bf7d943e34931b4427394d077cd">event1</a>);</div>
<div class="line"><a name="l03217"></a><span class="lineno"> 3217</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a8199c68e0e2ca8f1ff07f3604fae619d">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#acfeedfdd1219d0ab349663750d1be18a" title="Unregister an event that was previously registered in the scheduler.">unregisterEvent</a>(<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#aff8d6bd8188f416b67216937806c9a94">event4</a>);</div>
<div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a8199c68e0e2ca8f1ff07f3604fae619d">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#acfeedfdd1219d0ab349663750d1be18a" title="Unregister an event that was previously registered in the scheduler.">unregisterEvent</a>(<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a9fff3d27a98061227035da46705f79c6">event5</a>);</div>
<div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160;</div>
<div class="line"><a name="l03220"></a><span class="lineno"> 3220</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#adf98525149094d793db68ac977e4fac9">clock_stack</a>-&gt;clear();</div>
<div class="line"><a name="l03221"></a><span class="lineno"> 3221</span>&#160;</div>
<div class="line"><a name="l03222"></a><span class="lineno"> 3222</span>&#160;                <span class="keyword">new</span> (<span class="keyword">this</span>) SM_UNSYNC();</div>
<div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160;</div>
<div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03225"></a><span class="lineno"> 3225</span>&#160;            }</div>
<div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160;</div>
<div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160;            <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a8199c68e0e2ca8f1ff07f3604fae619d">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#afc4a5062aeb6488f879e99df6cb35865" title="Register a new event in the scheduler.">registerEvent</a>(<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a6e4c64cb57c82d863411bfd4549d89ad">event2</a>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160;            <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a8199c68e0e2ca8f1ff07f3604fae619d">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#afc4a5062aeb6488f879e99df6cb35865" title="Register a new event in the scheduler.">registerEvent</a>(<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a77c3294c47ed22a57509be47fd000b28">event3</a>);</div>
<div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;</div>
<div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;            <span class="keywordflow">if</span> (((<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#ab9314943c25986586f5039c1044d8226">local_sync_membership</a></div>
<div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160;                    &gt;= (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a6784f39e31222902378c42922ea3ec70">sm</a>-&gt;par(<span class="stringliteral">&quot;sm_tentative_sync_threshold_sync&quot;</span>).longValue())</div>
<div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160;                    &amp;&amp; (<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#ab9314943c25986586f5039c1044d8226">local_sync_membership</a></div>
<div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160;                            &lt; (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a6784f39e31222902378c42922ea3ec70">sm</a>-&gt;par(<span class="stringliteral">&quot;sm_tentative_to_sync_thrld&quot;</span>).longValue()))) {</div>
<div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;</div>
<div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a2784659c68df75031d656a640571c308">stable_cycle_counter</a>++;</div>
<div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160;                <span class="comment">//stable_cycle_counter+1 ??</span></div>
<div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160;</div>
<div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160;                <span class="keyword">new</span> (<span class="keyword">this</span>) <a class="code" href="class_t_t_ethernet_model_1_1_s_m___t_e_n_t_a_t_i_v_e___s_y_n_c.html#a928faae69391aba8931d40739e629fc2">SM_TENTATIVE_SYNC</a>();</div>
<div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160;            }</div>
<div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160;</div>
<div class="line"><a name="l03242"></a><span class="lineno"> 3242</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#ab9314943c25986586f5039c1044d8226">local_sync_membership</a></div>
<div class="line"><a name="l03243"></a><span class="lineno"> 3243</span>&#160;                    &gt;= (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a6784f39e31222902378c42922ea3ec70">sm</a>-&gt;par(<span class="stringliteral">&quot;sm_tentative_sync_threshold_sync&quot;</span>).longValue())) {</div>
<div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160;</div>
<div class="line"><a name="l03245"></a><span class="lineno"> 3245</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a2784659c68df75031d656a640571c308">stable_cycle_counter</a> = 0;</div>
<div class="line"><a name="l03246"></a><span class="lineno"> 3246</span>&#160;</div>
<div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160;                <span class="keyword">new</span> (<span class="keyword">this</span>) SM_SYNC();</div>
<div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160;            }</div>
<div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160;</div>
<div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160;            <span class="keywordflow">if</span> (((<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#ab9314943c25986586f5039c1044d8226">local_sync_membership</a></div>
<div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160;                    &gt;= (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a6784f39e31222902378c42922ea3ec70">sm</a>-&gt;par(<span class="stringliteral">&quot;sm_tentative_sync_threshold_sync&quot;</span>).longValue())</div>
<div class="line"><a name="l03253"></a><span class="lineno"> 3253</span>&#160;                    &amp;&amp; (<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#ab9314943c25986586f5039c1044d8226">local_sync_membership</a></div>
<div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160;                            &lt; (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a6784f39e31222902378c42922ea3ec70">sm</a>-&gt;par(<span class="stringliteral">&quot;sm_tentative_to_sync_thrld&quot;</span>).longValue()))</div>
<div class="line"><a name="l03255"></a><span class="lineno"> 3255</span>&#160;                    &amp;&amp; ((<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a2784659c68df75031d656a640571c308">stable_cycle_counter</a></div>
<div class="line"><a name="l03256"></a><span class="lineno"> 3256</span>&#160;                            &gt;= (<span class="keywordtype">unsigned</span> int)<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a6784f39e31222902378c42922ea3ec70">sm</a>-&gt;par(<span class="stringliteral">&quot;num_stable_cycles&quot;</span>).longValue())</div>
<div class="line"><a name="l03257"></a><span class="lineno"> 3257</span>&#160;                            &amp;&amp; (<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a6784f39e31222902378c42922ea3ec70">sm</a>-&gt;par(<span class="stringliteral">&quot;sm_tent_to_stable_enabled&quot;</span>).boolValue()))) {</div>
<div class="line"><a name="l03258"></a><span class="lineno"> 3258</span>&#160;</div>
<div class="line"><a name="l03259"></a><span class="lineno"> 3259</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a2784659c68df75031d656a640571c308">stable_cycle_counter</a> = 0;</div>
<div class="line"><a name="l03260"></a><span class="lineno"> 3260</span>&#160;</div>
<div class="line"><a name="l03261"></a><span class="lineno"> 3261</span>&#160;                <span class="keyword">new</span> (<span class="keyword">this</span>) SM_STABLE();</div>
<div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03263"></a><span class="lineno"> 3263</span>&#160;            }</div>
<div class="line"><a name="l03264"></a><span class="lineno"> 3264</span>&#160;</div>
<div class="line"><a name="l03265"></a><span class="lineno"> 3265</span>&#160;        } <span class="comment">//smc_sync_eval</span></div>
<div class="line"><a name="l03266"></a><span class="lineno"> 3266</span>&#160;</div>
<div class="line"><a name="l03267"></a><span class="lineno"> 3267</span>&#160;        <span class="keywordflow">if</span> (<span class="keywordtype">string</span>(message-&gt;getName()).compare(<span class="stringliteral">&quot;smc_clock_corr_pit&quot;</span>) == 0) {</div>
<div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160;</div>
<div class="line"><a name="l03269"></a><span class="lineno"> 3269</span>&#160;</div>
<div class="line"><a name="l03270"></a><span class="lineno"> 3270</span>&#160;</div>
<div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#adf98525149094d793db68ac977e4fac9">clock_stack</a>-&gt;empty()) {</div>
<div class="line"><a name="l03272"></a><span class="lineno"> 3272</span>&#160;</div>
<div class="line"><a name="l03273"></a><span class="lineno"> 3273</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a6784f39e31222902378c42922ea3ec70">sm</a>-&gt;bubble(<span class="stringliteral">&quot;TEN_SYNC clock_stack-&gt;empty&quot;</span>);</div>
<div class="line"><a name="l03274"></a><span class="lineno"> 3274</span>&#160;</div>
<div class="line"><a name="l03275"></a><span class="lineno"> 3275</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#adf98525149094d793db68ac977e4fac9">clock_stack</a>-&gt;size() == 1) {</div>
<div class="line"><a name="l03276"></a><span class="lineno"> 3276</span>&#160;</div>
<div class="line"><a name="l03277"></a><span class="lineno"> 3277</span>&#160;                map&lt;uint32_t, pair&lt;uint32_t, uint64_t&gt; &gt;::iterator iter =</div>
<div class="line"><a name="l03278"></a><span class="lineno"> 3278</span>&#160;                        <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#adf98525149094d793db68ac977e4fac9">clock_stack</a>-&gt;begin();</div>
<div class="line"><a name="l03279"></a><span class="lineno"> 3279</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a640a5f554af439cdc87a5511603838e7">clock_corr</a> = iter-&gt;second.second</div>
<div class="line"><a name="l03280"></a><span class="lineno"> 3280</span>&#160;                        - <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a6784f39e31222902378c42922ea3ec70">sm</a>-&gt;par(<span class="stringliteral">&quot;smc_scheduled_receive_pit&quot;</span>).longValue();</div>
<div class="line"><a name="l03281"></a><span class="lineno"> 3281</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a8199c68e0e2ca8f1ff07f3604fae619d">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#a47d1fbcf833c7f8d6627277a4b8525b3" title="Corrects the clock by the number of ticks.">clockCorrection</a>(<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a640a5f554af439cdc87a5511603838e7">clock_corr</a>);</div>
<div class="line"><a name="l03282"></a><span class="lineno"> 3282</span>&#160;                <span class="comment">//outVector-&gt;recordWithTimestamp(simTime(),(double)clock_corr);</span></div>
<div class="line"><a name="l03283"></a><span class="lineno"> 3283</span>&#160;</div>
<div class="line"><a name="l03284"></a><span class="lineno"> 3284</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a6784f39e31222902378c42922ea3ec70">sm</a>-&gt;par(<span class="stringliteral">&quot;write&quot;</span>).boolValue()) {</div>
<div class="line"><a name="l03285"></a><span class="lineno"> 3285</span>&#160;                    fprintf(<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#ae96fe043422d3523db8961df0401f513">fp</a>, <span class="stringliteral">&quot;%d &quot;</span>, <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a8199c68e0e2ca8f1ff07f3604fae619d">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#abedcf2e9dee0a4d1a3c215133b0283b4" title="Returns the current number of cycles.">getCycles</a>());</div>
<div class="line"><a name="l03286"></a><span class="lineno"> 3286</span>&#160;                    fprintf(<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#ae96fe043422d3523db8961df0401f513">fp</a>, <span class="stringliteral">&quot; %d \n&quot;</span>, <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a640a5f554af439cdc87a5511603838e7">clock_corr</a>);</div>
<div class="line"><a name="l03287"></a><span class="lineno"> 3287</span>&#160;                }</div>
<div class="line"><a name="l03288"></a><span class="lineno"> 3288</span>&#160;                <span class="comment">//clear for the next cycle</span></div>
<div class="line"><a name="l03289"></a><span class="lineno"> 3289</span>&#160;                <span class="comment">// container-&gt;clear();</span></div>
<div class="line"><a name="l03290"></a><span class="lineno"> 3290</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#adf98525149094d793db68ac977e4fac9">clock_stack</a>-&gt;clear();</div>
<div class="line"><a name="l03291"></a><span class="lineno"> 3291</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l03292"></a><span class="lineno"> 3292</span>&#160;                <span class="comment">//new (this) SC_SYNC();</span></div>
<div class="line"><a name="l03293"></a><span class="lineno"> 3293</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03294"></a><span class="lineno"> 3294</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03295"></a><span class="lineno"> 3295</span>&#160;                <span class="comment">//average method</span></div>
<div class="line"><a name="l03296"></a><span class="lineno"> 3296</span>&#160;                int64_t <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a6de6a9b61bd36eb3421278980ed4a8ab">temp</a> = 0;</div>
<div class="line"><a name="l03297"></a><span class="lineno"> 3297</span>&#160;                map&lt;uint32_t, pair&lt;uint32_t, uint64_t&gt; &gt;::iterator iter =</div>
<div class="line"><a name="l03298"></a><span class="lineno"> 3298</span>&#160;                        <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#adf98525149094d793db68ac977e4fac9">clock_stack</a>-&gt;begin();</div>
<div class="line"><a name="l03299"></a><span class="lineno"> 3299</span>&#160;</div>
<div class="line"><a name="l03300"></a><span class="lineno"> 3300</span>&#160;                <span class="keywordflow">while</span> (iter != <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#adf98525149094d793db68ac977e4fac9">clock_stack</a>-&gt;end()) {</div>
<div class="line"><a name="l03301"></a><span class="lineno"> 3301</span>&#160;</div>
<div class="line"><a name="l03302"></a><span class="lineno"> 3302</span>&#160;                    temp =</div>
<div class="line"><a name="l03303"></a><span class="lineno"> 3303</span>&#160;                            temp</div>
<div class="line"><a name="l03304"></a><span class="lineno"> 3304</span>&#160;                                    + (iter-&gt;second.second</div>
<div class="line"><a name="l03305"></a><span class="lineno"> 3305</span>&#160;                                            - <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a6784f39e31222902378c42922ea3ec70">sm</a>-&gt;par(</div>
<div class="line"><a name="l03306"></a><span class="lineno"> 3306</span>&#160;                                                    <span class="stringliteral">&quot;smc_scheduled_receive_pit&quot;</span>).longValue());</div>
<div class="line"><a name="l03307"></a><span class="lineno"> 3307</span>&#160;</div>
<div class="line"><a name="l03308"></a><span class="lineno"> 3308</span>&#160;                    iter++;</div>
<div class="line"><a name="l03309"></a><span class="lineno"> 3309</span>&#160;                }</div>
<div class="line"><a name="l03310"></a><span class="lineno"> 3310</span>&#160;</div>
<div class="line"><a name="l03311"></a><span class="lineno"> 3311</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a640a5f554af439cdc87a5511603838e7">clock_corr</a> = (double) (temp) / (double) (<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#adf98525149094d793db68ac977e4fac9">clock_stack</a>-&gt;size());</div>
<div class="line"><a name="l03312"></a><span class="lineno"> 3312</span>&#160;</div>
<div class="line"><a name="l03313"></a><span class="lineno"> 3313</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a8199c68e0e2ca8f1ff07f3604fae619d">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#a47d1fbcf833c7f8d6627277a4b8525b3" title="Corrects the clock by the number of ticks.">clockCorrection</a>(<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a640a5f554af439cdc87a5511603838e7">clock_corr</a>);</div>
<div class="line"><a name="l03314"></a><span class="lineno"> 3314</span>&#160;</div>
<div class="line"><a name="l03315"></a><span class="lineno"> 3315</span>&#160;                <span class="comment">//outVector-&gt;recordWithTimestamp(simTime(),(double)clock_corr);</span></div>
<div class="line"><a name="l03316"></a><span class="lineno"> 3316</span>&#160;</div>
<div class="line"><a name="l03317"></a><span class="lineno"> 3317</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a6784f39e31222902378c42922ea3ec70">sm</a>-&gt;par(<span class="stringliteral">&quot;write&quot;</span>).boolValue()) {</div>
<div class="line"><a name="l03318"></a><span class="lineno"> 3318</span>&#160;                    fprintf(<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#ae96fe043422d3523db8961df0401f513">fp</a>, <span class="stringliteral">&quot;%d &quot;</span>, <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a8199c68e0e2ca8f1ff07f3604fae619d">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#abedcf2e9dee0a4d1a3c215133b0283b4" title="Returns the current number of cycles.">getCycles</a>());</div>
<div class="line"><a name="l03319"></a><span class="lineno"> 3319</span>&#160;                    fprintf(<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#ae96fe043422d3523db8961df0401f513">fp</a>, <span class="stringliteral">&quot; %d \n&quot;</span>, <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a640a5f554af439cdc87a5511603838e7">clock_corr</a>);</div>
<div class="line"><a name="l03320"></a><span class="lineno"> 3320</span>&#160;                }</div>
<div class="line"><a name="l03321"></a><span class="lineno"> 3321</span>&#160;</div>
<div class="line"><a name="l03322"></a><span class="lineno"> 3322</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#adf98525149094d793db68ac977e4fac9">clock_stack</a>-&gt;clear();</div>
<div class="line"><a name="l03323"></a><span class="lineno"> 3323</span>&#160;</div>
<div class="line"><a name="l03324"></a><span class="lineno"> 3324</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03325"></a><span class="lineno"> 3325</span>&#160;</div>
<div class="line"><a name="l03326"></a><span class="lineno"> 3326</span>&#160;            }</div>
<div class="line"><a name="l03327"></a><span class="lineno"> 3327</span>&#160;</div>
<div class="line"><a name="l03328"></a><span class="lineno"> 3328</span>&#160;        }</div>
<div class="line"><a name="l03329"></a><span class="lineno"> 3329</span>&#160;</div>
<div class="line"><a name="l03330"></a><span class="lineno"> 3330</span>&#160;        <span class="keywordflow">if</span> (<span class="keywordtype">string</span>(message-&gt;getName()).compare(<span class="stringliteral">&quot;smc_async_up&quot;</span>) == 0) {</div>
<div class="line"><a name="l03331"></a><span class="lineno"> 3331</span>&#160;</div>
<div class="line"><a name="l03332"></a><span class="lineno"> 3332</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a5944afe2bcc5270f8444ac428b88db47">local_integration_cycle</a> % 2) == 0) {</div>
<div class="line"><a name="l03333"></a><span class="lineno"> 3333</span>&#160;</div>
<div class="line"><a name="l03334"></a><span class="lineno"> 3334</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a1d5cee2f40eb01f5779c45780e844d0f">local_async_membership_f</a> = 0;</div>
<div class="line"><a name="l03335"></a><span class="lineno"> 3335</span>&#160;</div>
<div class="line"><a name="l03336"></a><span class="lineno"> 3336</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03337"></a><span class="lineno"> 3337</span>&#160;</div>
<div class="line"><a name="l03338"></a><span class="lineno"> 3338</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#add72f9abeb010a79de47487c73b4b423">local_async_membership_r</a> = 0;</div>
<div class="line"><a name="l03339"></a><span class="lineno"> 3339</span>&#160;</div>
<div class="line"><a name="l03340"></a><span class="lineno"> 3340</span>&#160;            }</div>
<div class="line"><a name="l03341"></a><span class="lineno"> 3341</span>&#160;</div>
<div class="line"><a name="l03342"></a><span class="lineno"> 3342</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a9fff3d27a98061227035da46705f79c6">event5</a>-&gt;isScheduled()) {</div>
<div class="line"><a name="l03343"></a><span class="lineno"> 3343</span>&#160;</div>
<div class="line"><a name="l03344"></a><span class="lineno"> 3344</span>&#160;                <a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a8199c68e0e2ca8f1ff07f3604fae619d">tteScheduler</a>-&gt;<a class="code" href="class_t_t_ethernet_model_1_1_t_t_e_scheduler.html#afc4a5062aeb6488f879e99df6cb35865" title="Register a new event in the scheduler.">registerEvent</a>(<a class="code" href="class_t_t_ethernet_model_1_1_s_m_state.html#a9fff3d27a98061227035da46705f79c6">event5</a>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l03345"></a><span class="lineno"> 3345</span>&#160;</div>
<div class="line"><a name="l03346"></a><span class="lineno"> 3346</span>&#160;            }</div>
<div class="line"><a name="l03347"></a><span class="lineno"> 3347</span>&#160;        }</div>
<div class="line"><a name="l03348"></a><span class="lineno"> 3348</span>&#160;</div>
<div class="line"><a name="l03349"></a><span class="lineno"> 3349</span>&#160;    }</div>
<div class="line"><a name="l03350"></a><span class="lineno"> 3350</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_s_m_states_8h_source.html">SMStates.h</a></li>
<li><a class="el" href="_s_m_states_8cc_source.html">SMStates.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespace_t_t_ethernet_model.html">TTEthernetModel</a></li><li class="navelem"><a class="el" href="class_t_t_ethernet_model_1_1_s_m___t_e_n_t_a_t_i_v_e___s_y_n_c.html">SM_TENTATIVE_SYNC</a></li>
    <li class="footer">Generated on Wed Jun 19 2013 14:29:22 for TTEthernet Model for INET Framework by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.3.1 </li>
  </ul>
</div>
</body>
</html>
